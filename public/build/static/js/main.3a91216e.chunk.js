(this["webpackJsonptradygrade-client"]=this["webpackJsonptradygrade-client"]||[]).push([[0],{114:function(e,t,a){e.exports=a.p+"static/media/renderingChat.cafd6c7f.gif"},119:function(e,t,a){e.exports=a.p+"static/media/error.1e3bd7dc.png"},120:function(e,t,a){e.exports=a.p+"static/media/error4vol1.58fbe598.png"},121:function(e,t,a){e.exports=a.p+"static/media/error0.8f5d6425.png"},122:function(e,t,a){e.exports=a.p+"static/media/error4vol2.2b5ad922.png"},131:function(e,t,a){e.exports=a(204)},136:function(e,t,a){},137:function(e,t,a){},190:function(e,t){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),i=a.n(c),l=(a(136),a(137),a(9)),s=a(36),o=function(e){return r.a.createElement("div",null)},u=a(34),m=a(2),d=a(15),p=a.n(d),f=a(21),h=Object(f.a)(),E=a(25),b=a.n(E),v=(a(90),Object(l.b)((function(e){return{user:e.user,items:e.items}}))((function(e){var t=e.user,a=e.items,c=Object(n.useState)({name:t.name,email:t.email,image_url:t.image_url}),i=Object(m.a)(c,2),l=i[0],s=(i[1],Object(n.useState)([])),o=Object(m.a)(s,2),d=o[0],f=o[1];Object(n.useEffect)((function(){E()}),[]);var E=function(){a.map((function(e){return e.seller.id===t.id?f((function(t){return[].concat(Object(u.a)(t),[e])})):null}))};return r.a.createElement("div",{className:"my-account"},r.a.createElement("div",{className:"account-management-container"},r.a.createElement("div",{className:"account-management-user-picture"},r.a.createElement("img",{src:l.image_url||b.a,alt:l.name})),r.a.createElement("div",{className:"account-management-user-info"},r.a.createElement("div",{id:"div1"},"username:"),r.a.createElement("div",{id:"div2"},r.a.createElement("h3",null,l.name)),r.a.createElement("br",null),r.a.createElement("div",{id:"div1"},"email:"),r.a.createElement("div",{id:"div2"},r.a.createElement("p",null,l.email)),r.a.createElement("br",null))),r.a.createElement("div",{className:"item-management-container"},r.a.createElement("button",{className:"go-back-button",onClick:function(e){h.goBack()}},"Go back"),r.a.createElement("h1",null,"My stuff"),r.a.createElement("div",{className:"my-item-list"},d.map((function(e){return r.a.createElement("div",{className:"my-item",key:e.item.id,onClick:function(){return h.push("/marketplace/".concat(e.item.id))}},r.a.createElement("p",null,e.item.name," / ",e.item.price,"\u20ac"),r.a.createElement("img",{className:"my-item-picture",src:e.item.pictureURL,height:"100px"}),r.a.createElement("p",null,"Listed By: ",e.seller.name),r.a.createElement("p",{className:"dash-date"},p()(e.item.listedAt).format("DD-MM-YYYY")))})))))}))),g=a(4),y=a.n(g),O=a(8),w=(a(91),a(18)),k=a.n(w),j=a(30),N=a(78),x=a.n(N);function S(){return C.apply(this,arguments)}function C(){return(C=Object(O.a)(y.a.mark((function e(){var t,a,n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token"),a=localStorage.getItem("refreshToken"),n={"Content-Type":"application/json"},!t){e.next=13;break}if(!(r=D(t))||!a){e.next=12;break}if(T(a)){e.next=12;break}return e.next=10,A(a);case 10:t=localStorage.getItem("token"),r=!1;case 12:t&&!r&&(n=Object(j.a)({},n,{Authorization:"Bearer ".concat(t)}));case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return I.apply(this,arguments)}function I(){return(I=Object(O.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:4000/api/auth/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:t})}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.user.token)})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){var t=x()(e).exp;return Date.now()>=1e3*t&&(console.log("token has expired, attempting to refresh..."),!0)},T=function(e){var t=x()(e).exp;return Date.now()>=1e3*t&&(console.log("refresh token has expired, please log in again to renew authorization"),!0)};function M(e){if(!e.ok)throw Error("Error in fetch request: "+e.statusText);return e}var L="http://localhost:4000/api/chat/message",R=function(){var e=Object(O.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return a=e.sent,e.next=5,k.a.get("".concat(L,"s/").concat(t),{headers:a});case 5:if(200!==(n=e.sent).status){e.next=10;break}return e.abrupt("return",n.data);case 10:console.log("Did not get the message history!");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(O.a)(y.a.mark((function e(t,a){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return n=e.sent,e.next=5,k.a.post("".concat(L,"s/").concat(t),a,{headers:n});case 5:if(200!==(r=e.sent).status){e.next=10;break}return e.abrupt("return",r.data);case 10:console.log("Did not get the message history!");case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),U="http://localhost:4000/api/chat",H=function(){var e=Object(O.a)(y.a.mark((function e(t,a){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return n=e.sent,e.next=5,k.a.get("".concat(U,"/our/").concat(t,"/").concat(a),{headers:n});case 5:if(200!==(r=e.sent).status||0===r.data.length){e.next=10;break}return e.abrupt("return",r.data[0].chat_id);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(O.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return a=e.sent,e.next=5,k.a.get("".concat(U,"/my/").concat(t),{headers:a});case 5:if(200!==(n=e.sent).status||0===n.data.length){e.next=10;break}return e.abrupt("return",n.data);case 10:console.log("Did not find chatID for these users!");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(O.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return a=e.sent,e.next=5,k.a.post("".concat(U,"/new"),{userids:t,headers:a});case 5:if(200!==(n=e.sent).status||0===n.data.length){e.next=10;break}return e.abrupt("return",n.data);case 10:console.log("Could not create new chat!");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=a(114),F=a.n(P),q=a(63),W=a.n(q),V=Object(l.b)((function(e){return{user:e.user,users:e.users}}))((function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)([]),s=Object(m.a)(l,2),o=s[0],u=s[1],d=Object(n.useState)([]),p=Object(m.a)(d,2),f=(p[0],p[1],Object(n.useState)()),E=Object(m.a)(f,2),v=E[0],g=E[1],w=Object(n.useState)(!0),k=Object(m.a)(w,2),j=k[0],N=k[1],x=function(t){var a=e.users.map((function(e){return{name:e.name,id:e.id}})),n=t.map((function(e){return{name:e.name,id:e.chatid}}));console.log(a),console.log(n)},S=function(){var t=Object(O.a)(y.a.mark((function t(){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(e.user.id);case 2:return a=t.sent,t.next=5,i(a);case 5:return t.next=7,u(e.users);case 7:N(!1),x(a);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){S()}),[e.user]);var C=function(){var t=Object(O.a)(y.a.mark((function t(){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y({user1:e.user.id,user2:v});case 3:a=t.sent,t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:h.push("/chat/".concat(a.id,"/").concat(a.name));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"MyChatWindow"},r.a.createElement("div",{className:"MyChats"},r.a.createElement("h3",null,"My Chats"),r.a.createElement("div",null,r.a.createElement("select",{className:"select-chat-user",name:"users",onChange:function(e){return g(parseInt(e.target.value))}},r.a.createElement("option",{placeholder:"Select user...",value:"",color:"white"},"Select user..."),o.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("button",{className:"MyChatButton",onClick:function(){return C()}},"Start a new conversation"),j?r.a.createElement("img",{src:F.a,height:"50em"}):void 0===c?r.a.createElement("div",{className:"ChatBlock"},r.a.createElement("div",{id:"noChats"},r.a.createElement("p",null,"First time chatting? ",r.a.createElement("br",null),r.a.createElement("br",null)," No worries just search for a person and start a new conversation!"),r.a.createElement("img",{src:b.a,height:"50em"}))):c.map((function(e){return r.a.createElement("div",{key:e.chatid,style:{textDecoration:"none"},onClick:function(){return h.push("/chat/".concat(e.chatid,"/").concat(e.name))}},r.a.createElement("div",{className:"ChatBlock"},r.a.createElement("div",{id:"userDiv"},r.a.createElement("img",{src:e.picture||b.a,height:"20em"}),r.a.createElement("b",null," ",e.name," "))))})))),r.a.createElement("div",{className:"chatEdge"},r.a.createElement("div",{className:"MyChatOutput"},r.a.createElement("img",{className:"trady-image",src:W.a,alt:"tradygradedarkblue"}))))})),X=a(79),z=a.n(X),J=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),c=(a[0],a[1]),i=Object(n.useState)(e.newMessage),l=Object(m.a)(i,2),s=(l[0],l[1]),o=Object(n.useState)(e.typingInfo),d=Object(m.a)(o,2),f=(d[0],d[1]),h=Object(n.useState)(e.chatID),E=Object(m.a)(h,2),b=(E[0],E[1]),v=Object(n.useState)(e.myName),g=Object(m.a)(v,2),w=g[0],k=g[1],j="left";function N(){return(N=Object(O.a)(y.a.mark((function t(){var a,n,r,i,l,s,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e.chatID);case 2:for(a=t.sent,n=!0,r=!1,i=void 0,t.prev=6,l=function(){var e=o.value;c((function(t){return[].concat(Object(u.a)(t),[{chat:a.chatID,user:e.username,picture:e.picture,message:e.message,time:e.timestamp}])})),j=e.username!==w?"text-align:left":"text-align:right";var t=document.getElementById("output");t.innerHTML+="<p style=".concat(j,"><img src=").concat(e.picture||z.a,' height="20em" buffer)/> <b>').concat(e.username,": </b>").concat(e.message,' <i id="timeStamp">').concat(p()(e.time).format("h:mm:ss"),"</i></p>"),document.getElementById("chatWindow").scrollTop=t.scrollHeight},s=a.messages[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)l();t.next=15;break;case 11:t.prev=11,t.t0=t.catch(6),r=!0,i=t.t0;case 15:t.prev=15,t.prev=16,n||null==s.return||s.return();case 18:if(t.prev=18,!r){t.next=21;break}throw i;case 21:return t.finish(18);case 22:return t.finish(15);case 23:case"end":return t.stop()}}),t,null,[[6,11,15,23],[16,,18,22]])})))).apply(this,arguments)}Object(n.useEffect)((function(){c([]),document.getElementById("output").innerHTML="",b(e.chatID),k(e.myName),function(){N.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){s((function(t){return e.newMessage})),x()}),[e.newMessage]),Object(n.useEffect)((function(){f((function(t){return e.typingInfo})),S(e.typingInfo)}),[e.typingInfo]);var x=function(){var t=Object(O.a)(y.a.mark((function t(){var a,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.getElementById("feedback").innerHTML="",t.next=4,e.newMessage;case 4:void 0===(a=t.sent)?console.log("fail: no new messages"):(n=document.getElementById("output"),j=a.user!==w?"text-align:left":"text-align:right",n.innerHTML+="<p style=".concat(j,"><img src=").concat(a.picture||z.a,' height="20em" buffer)/> <b>').concat(a.user,": </b>").concat(a.message,' <i id="timeStamp">').concat(p()(a.time).format("h:mm:ss"),"</i></p>"),document.getElementById("chatWindow").scrollTop=n.scrollHeight);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(t){var a=document.getElementById("feedback");void 0!==e.typingInfo&&(a.innerHTML="<p><em>".concat(t," is typing a message...</em></p>"))};return r.a.createElement("div",{className:"ChatOutput"},r.a.createElement("div",{id:"chatWindow"},r.a.createElement("ul",{id:"output"}),r.a.createElement("div",{id:"feedback"})))},K=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(e.myName),s=Object(m.a)(l,2),o=s[0],u=s[1],d=Object(n.useState)(e.myPicture),p=Object(m.a)(d,2),f=p[0],h=p[1],E=Object(n.useState)(e.chatID),b=Object(m.a)(E,2),v=b[0],g=b[1],y=new Date;Object(n.useEffect)((function(){g(e.chatID),u(e.myName),h(e.myPicture)}),[e.chatID]);return r.a.createElement("div",{className:"ComposeMessage"},r.a.createElement("form",{autoComplete:"off",onSubmit:function(t){t.preventDefault(),""===c.trim()?console.log("Cannot send empty message"):(e.emitMessage({chat:v,user:o,picture:f,message:c,time:y}),B(e.chatID,{user:e.myUserId,message:c,time:y}),i(""))}},r.a.createElement("input",{className:"chatMessage",type:"text",id:"message",placeholder:"Message",value:c,autoFocus:!0,onChange:function(t){i(t.target.value),e.typingMessage(o,v)}}),r.a.createElement("br",null),r.a.createElement("input",{className:"chatSend",type:"submit",value:"Send"})))},Z=function(e){return r.a.createElement("div",{className:"Chats"},r.a.createElement("h3",null,"MyChats"),r.a.createElement("div",null,r.a.createElement("button",{className:"MyChatButton",onClick:function(){return h.push("/chat")}},"Go back to chat list"),r.a.createElement("p",null,"You are currently chatting with:",r.a.createElement("i",null,e.otherUserName)),r.a.createElement("img",{src:e.otherUserPicture||b.a,height:"100rem"}),r.a.createElement("p",null,r.a.createElement("b",null,e.otherUserName)," seems like a good tradyuser!")))},Q=a(115),_=a.n(Q),$=Object(l.b)((function(e){return{user:e.user,users:e.users}}))((function(e){var t=Object(n.useState)(e.match.params.chatid),a=Object(m.a)(t,1)[0],c=Object(n.useState)(),i=Object(m.a)(c,2),l=i[0],s=i[1],o=Object(n.useState)(),u=Object(m.a)(o,2),d=u[0],p=u[1],f=Object(n.useState)(e.user.id),h=Object(m.a)(f,2),E=h[0],b=h[1],v=Object(n.useState)(e.user.name),g=Object(m.a)(v,2),w=g[0],k=g[1],j=Object(n.useState)(e.user.image_url),N=Object(m.a)(j,2),x=N[0],S=N[1],C=Object(n.useState)(),A=Object(m.a)(C,2),I=A[0],D=A[1],T=Object(n.useState)(),M=Object(m.a)(T,2),L=M[0],R=M[1],B=Object(n.useState)(),U=Object(m.a)(B,2),H=U[0],G=U[1];Object(n.useEffect)((function(){b(e.user.id),k(e.user.name),S(e.user.image_url),Y()}),[e.user.id]),Object(n.useEffect)((function(){var e=_()("http://localhost:9000");G(e),e.emit("joinChat",w,a).on("message",(function(e){console.log(e)})).on("new message",(function(e){var t=e;a===t.chat&&s(t)})).on("typing",function(){var e=Object(O.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).on("user disconnect",(function(e){console.log(e)}))}),[]);var Y=function(){var t=e.users.find((function(t){return t.name===e.match.params.chatuser}));D(t.name),R(t.picture)};return r.a.createElement("div",{className:"ChatWindow"},r.a.createElement(Z,{otherUserName:I,otherUserPicture:L}),r.a.createElement("div",{className:"chatEdge"},r.a.createElement(J,{chatID:a,myUserId:E,myName:w,myPicture:x,newMessage:l,typingInfo:d})),r.a.createElement(K,{chatID:a,myUserId:E,myName:w,myPicture:x,emitMessage:function(e){a===e.chat&&H.emit("chatMessage",e)},typingMessage:function(e,t){H.emit("typing",w,a)}}))})),ee=(a(193),a(194),function(e){return r.a.createElement("div",{className:"newsfeed-post-container"},r.a.createElement("div",{className:"newsfeed-grid-header"},r.a.createElement("h4",{className:"newsfeed-header"},e.title),r.a.createElement("span",{className:"newsfeed-subtitle"},"written by: ",e.author)),r.a.createElement("div",{className:"newsfeed-share"},r.a.createElement("span",{className:"fa fa-facebook"}),r.a.createElement("span",{className:"fa fa-twitter"}),r.a.createElement("span",{className:"fa fa-google"}),r.a.createElement("span",{className:"fa fa-reddit"}),r.a.createElement("span",{className:"fa fa-instagram"}),r.a.createElement("span",{className:"fa fa-pinterest"})),r.a.createElement("article",null,r.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nam laboriosam maxime, odio rerum qui atque veniam aspernatur iure optio non! Nostrum sed fugiat possimus tenetur similique. Temporibus soluta voluptatibus ratione id molestias! Quis assumenda officia quisquam nesciunt odit, iste, deserunt ut veniam, enim doloribus nisi commodi animi error distinctio debitis."),r.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi culpa, facere deserunt blanditiis saepe laboriosam quis ducimus voluptate nisi sapiente dicta quibusdam non esse, quam officiis voluptatem officia aliquid fugiat?"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Atque itaque tenetur tempora maiores a veritatis nesciunt vel, repellat, unde, assumenda ipsum nostrum voluptatibus dignissimos explicabo. Aperiam excepturi a minima necessitatibus odit sed, dolore quae omnis enim expedita incidunt nobis molestias ex neque. Dicta laboriosam, laudantium ullam blanditiis harum nulla repellat?")),r.a.createElement("aside",null,'"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum neque deleniti totam veritatis ratione suscipit quae minima illo odit quis?"'),r.a.createElement("img",{src:e.image,alt:"a beautiful landscape"}))}),te=function(e){return r.a.createElement("div",{className:"newsfeed-container"},r.a.createElement("header",{className:"newsfeed-header"},r.a.createElement("h2",{className:"newsfeed-title"},"What's new?"),r.a.createElement("div",{className:"newsfeed-header-icons"},r.a.createElement("span",{className:"fa fa-sync-alt"}),r.a.createElement("span",{className:"fa fa-sliders-h"}),r.a.createElement("span",{className:"fa fa-cogs"}))),r.a.createElement("div",{className:"newsfeed-content"},r.a.createElement(ee,{author:"G\xf6ran \xd6sterholm / Druids of Finland",title:"",image:"https://cdn.pixabay.com/photo/2020/03/30/12/54/triberg-4984171_960_720.jpg"}),r.a.createElement(ee,{author:"Denise Whittaker",title:"Of Cherry Blossoms and Exclusive Ales",image:"https://cdn.pixabay.com/photo/2020/03/30/15/57/spring-4984628_960_720.jpg"}),r.a.createElement(ee,{author:"Boris Hanson / Recycle:now Magazine",title:"Who benefits from recycling, really?",image:"https://cdn.pixabay.com/photo/2017/11/19/23/25/forest-2964073_960_720.jpg"}),r.a.createElement(ee,{author:"Harry Bishop",title:"I Wish I had had a Pony When I was a Kid",image:"https://cdn.pixabay.com/photo/2020/03/24/11/21/thunder-4963719_960_720.jpg"})))},ae=Object(l.b)((function(e){return{items:e.items,user:e.user}}))((function(e){var t=e.user,a=e.items,c=Object(n.useState)(!1),i=Object(m.a)(c,2),l=i[0],s=i[1];return r.a.createElement("div",{className:"dashboard"},t?r.a.createElement("div",{className:"welcome"},"Welcome, ".concat(t.name,"!")):r.a.createElement("div",null,"How are you here? Who are you?"),r.a.createElement("button",{type:"button",className:"dashboard-collapsible-button",onClick:function(){s(!l)}},"Latest 5 items added to the marketplace",r.a.createElement("span",{className:"dashboard-click-me"},"click me!")),r.a.createElement("div",{className:l?"latest-items":"latest-items dashboard-hidden"},a.sort((function(e,t){return new Date(t.item.listedAt).valueOf()-new Date(e.item.listedAt).valueOf()})).map((function(e,t){if(t<5)return r.a.createElement("div",{className:"dash-item",key:e.item.id,onClick:function(t){return h.push("/marketplace/".concat(e.item.id))}},r.a.createElement("p",null,e.item.name,"/ ",e.item.price,"\u20ac"),r.a.createElement("img",{className:"item-picture",src:e.item.pictureURL,height:"100px"}),r.a.createElement("p",null,"Listed By: ",e.seller.name),r.a.createElement("p",{className:"dash-date"},p()(e.item.listedAt).format("DD-MM-YYYY")))}))),r.a.createElement(te,null))})),ne=function(e){return{type:"GET_ERRORS",payload:e}},re=function(){return{type:"CLEAR_ERRORS"}},ce="http://localhost:4000/api/auth";function ie(e){return{type:"AUTHENTICATE",payload:e}}var le=a(237),se=a(247),oe=a(241),ue=a(205),me=Object(le.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,outline:0,borderRadius:"10px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),de={logInConnect:function(e,t){return function(){var a=Object(O.a)(y.a.mark((function a(n){var r;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={name:e,password:t},a.next=3,fetch("".concat(ce,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){if(e.token||n({type:"LOGIN_FAIL"}),e.token){var t={id:e.id,name:e.name,email:e.email,password:e.password,token:e.token,refreshToken:e.refreshToken,image_url:e.picture,isAuthenticated:null,isLoading:!1};window.localStorage.setItem("token",e.token),window.localStorage.setItem("refreshToken",e.refreshToken),n(ie(t))}}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},returnErrorsConnect:ne,clearErrorsConnect:re},pe=Object(l.b)((function(e){return{errorState:e.error}}),de)((function(e){var t=e.logInConnect,a=e.returnErrorsConnect,c=(e.errorState,me()),i=Object(n.useState)(!1),l=Object(m.a)(i,2),s=l[0],o=l[1],u=Object(n.useState)(""),d=Object(m.a)(u,2),p=d[0],f=d[1],h=Object(n.useState)(""),E=Object(m.a)(h,2),b=E[0],v=E[1],g=Object(n.useState)(""),y=Object(m.a)(g,2),O=y[0],w=y[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:function(){o(!0)}},"Login"),r.a.createElement(se.a,{id:"login-modal","aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:s,onClose:function(){o(!1),w("")},closeAfterTransition:!0,BackdropComponent:oe.a,BackdropProps:{timeout:500}},r.a.createElement(ue.a,{in:s},r.a.createElement("div",{className:"modal"},r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),p&&b)try{t(p,b)}catch(n){a(Object(j.a)({},n,{id:"LOGIN_FAIL"}))}else w("Please fill out the required fields.")},autoComplete:"off"},r.a.createElement("h3",null,"Login"),r.a.createElement("input",{type:"text",placeholder:"username",onChange:function(e){f(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"password",onChange:function(e){v(e.target.value)}}),r.a.createElement("button",{type:"submit"},"log in"),r.a.createElement("p",{id:"login-error-response"},O))))))})),fe=Object(le.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,outline:0,borderRadius:"10px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),he={register:function(e){return function(){var t=Object(O.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:if(!(n=t.sent).error){t.next=5;break}throw n.error;case 5:fetch("http://localhost:4000/api/users",{method:"POST",headers:n,body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){M(e),a({type:"REGISTER_SUCCESS",payload:e})})).catch((function(e){a(ne(e)),a({type:"REGISTER_FAIL"})}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},clearErrors:re},Ee=Object(l.b)((function(e){return{user:e.user,error:e.error}}),he)((function(e){e.user,e.error;var t=e.register,a=(e.clearErrors,fe()),c=function(){f(""),v(""),C(""),j(""),T(""),o(!1)},i=Object(n.useState)(!1),l=Object(m.a)(i,2),s=l[0],o=l[1],u=Object(n.useState)(""),d=Object(m.a)(u,2),p=d[0],f=d[1],h=Object(n.useState)(""),E=Object(m.a)(h,2),b=E[0],v=E[1],g=Object(n.useState)(""),w=Object(m.a)(g,2),k=w[0],j=w[1],N=Object(n.useState)(""),x=Object(m.a)(N,2),S=x[0],C=x[1],A=Object(n.useState)(""),I=Object(m.a)(A,2),D=I[0],T=I[1],M=function(){var e=Object(O.a)(y.a.mark((function e(a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n={name:p,password:b,email:k},p&&b&&k&&S){e.next=6;break}T("Please fill out all the fields."),e.next=22;break;case 6:if(b===S&&b&&S){e.next=10;break}T("Passwords do not match, please try again."),e.next=22;break;case 10:return e.prev=10,e.next=13,t(n);case 13:c(),T(""),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(10),console.log(e.t0),console.log(e.t0.message),T(e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:function(){o(!0)}},"Register"),r.a.createElement(se.a,{id:"register-modal","aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:a.modal,open:s,onClose:c,closeAfterTransition:!0,BackdropComponent:oe.a,BackdropProps:{timeout:500}},r.a.createElement(ue.a,{in:s},r.a.createElement("div",{className:"modal"},r.a.createElement("form",{onSubmit:M,autoComplete:"off"},r.a.createElement("h3",null,"Register"),r.a.createElement("input",{type:"text",placeholder:"username",onChange:function(e){f(e.target.value)}}),r.a.createElement("input",{type:"text",placeholder:"email",onChange:function(e){j(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"password",onChange:function(e){v(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"confirm password",onChange:function(e){C(e.target.value)}}),r.a.createElement("button",{type:"submit"},"register"),r.a.createElement("p",{id:"register-error-response"},D))))))})),be=(a(195),function(e){return r.a.createElement("div",{className:"landing-background"},r.a.createElement("div",{className:"landing-container"},r.a.createElement("header",null,r.a.createElement("p",{id:"slogan"},"There's no greater trade than tradygrade"),r.a.createElement("p",{id:"about"},"Tradygrade helps you make use of your unwanted items, make new friends, and save the planet at the same time. Sign up now for free and join our ever-growing community of generally nice people\u2122"),r.a.createElement(pe,null),r.a.createElement(Ee,null)),r.a.createElement("div",{className:"notice"},r.a.createElement("h5",null,"Breaking news"),r.a.createElement("p",null,"News is broken. Someone went ahead and broke the news. We at tradygrade cannot believe they've done this. We pledge to get to the bottom of this at our earliest convenience. On behalf of all of Tradygrade, we sincerely apologize for any inconvenience this has caused. Our hearts go out to the news families and loved ones."),r.a.createElement("br",null),r.a.createElement("span",{className:"signature"},r.a.createElement("b",null,"The Tradygrade Crew"))),r.a.createElement("h1",{id:"landing-title"},"tradygrade")))}),ve=(a(196),a(197),function(e){var t=e.item;return r.a.createElement("div",{className:"market-item",onClick:function(e){h.push("/marketplace/".concat(t.item.id))}},r.a.createElement("p",{className:"item-name-display"},t.item.name),r.a.createElement("p",{className:"item-price-display"}," ",t.item.price,"\u20ac"),r.a.createElement("div",{className:"market-item-picture-div"},r.a.createElement("img",{className:"market-item-picture",src:t.item.pictureURL}),r.a.createElement("div",{className:"market-item-shadow"})),r.a.createElement("p",{className:"market-item-listedby"},"Listed By: ",t.seller.name),r.a.createElement("p",{className:"dash-date"},p()(t.item.listedAt).format("DD-MM-YYYY")))}),ge=a(242),ye=a(249),Oe=Object(le.a)({root:{width:400}});function we(e){return"".concat(e," \u20ac")}function ke(e){var t=e.onValueChange,a=Oe(),n=r.a.useState([0,1e3]),c=Object(m.a)(n,2),i=c[0],l=c[1];return r.a.createElement("div",{className:a.root},r.a.createElement(ge.a,{id:"range-slider",gutterBottom:!0},"Price range"),r.a.createElement(ye.a,{value:i,onChange:function(e,a){l(a),t(i)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",getAriaValueText:we,min:0,max:500}))}var je,Ne=a(250),xe=a(245),Se=a(246),Ce=function(e){var t=e.items,a=Object(n.useState)([]),c=Object(m.a)(a,2),i=c[0],l=c[1],s=Object(n.useState)("all"),o=Object(m.a)(s,2),u=o[0],d=o[1],p=Object(n.useState)("new"),f=Object(m.a)(p,2),h=f[0],E=f[1],b=Object(n.useState)(""),v=Object(m.a)(b,2),g=v[0],y=v[1],O=Object(n.useState)([0,1e6]),w=Object(m.a)(O,2),k=w[0],j=w[1],N=Object(n.useState)(!1),x=Object(m.a)(N,2),S=x[0],C=x[1];Object(n.useEffect)((function(){l(t),E("new")}),[]),Object(n.useEffect)((function(){switch(u){case"Sports":var e=t.filter((function(e){return"Sports"===e.item.category}));l(e);break;case"Electronics":var a=t.filter((function(e){return"Electronics"===e.item.category}));console.log(a),l(a);break;case"Vehicles & Accessories":var n=t.filter((function(e){return"Vehicles & Accessories"===e.item.category}));l(n);break;case"Books, Movies & Music":var r=t.filter((function(e){return"Books, Movies & Music"===e.item.category}));l(r);break;case"Fashion":var c=t.filter((function(e){return"Fashion"===e.item.category}));l(c);break;case"Collectibles":var i=t.filter((function(e){return"Collectibles"===e.item.category}));l(i);break;case"Home & Garden":var s=t.filter((function(e){return"Home & Garden"===e.item.category}));l(s);break;case"Health & Beauty":var o=t.filter((function(e){return"Health & Beauty"===e.item.category}));l(o);break;case"Other":var m=t.filter((function(e){return"Other"===e.item.category}));l(m);break;default:l(t)}}),[u]);var A=S?"show":"hide";return r.a.createElement("div",{className:"market-list"},r.a.createElement("div",{className:"filter-box ".concat(A)},r.a.createElement("div",{className:"filter-header"},r.a.createElement("h3",null,r.a.createElement("span",null,"Filters"),r.a.createElement("i",{className:"fas fa-filter",style:{marginLeft:"2px",color:"#f4f4f4"}})),r.a.createElement("div",{className:"hamburger",onClick:function(e){C(!S)}},S?r.a.createElement("i",{className:"fas fa-times"}):r.a.createElement("i",{className:"fas fa-bars"}))),r.a.createElement("div",{className:"filter-settings"},r.a.createElement("div",{className:"filter-group"},r.a.createElement("label",null,"Filter by input"),r.a.createElement("input",{type:"text",className:"input-filter",value:g,onChange:function(e){y(e.target.value);var a=t.filter((function(t){return t.item.name.toLowerCase().trim().includes(e.target.value.toLowerCase().trim())&&(t.item.category===u||"all"===u)&&t.item.price>k[0]&&t.item.price<k[1]}));l(a)}})),r.a.createElement("div",{className:"filter-group"},r.a.createElement(Ne.a,{id:"sort-by",style:{color:"#f4f4f4"}},"Sort by"," "),r.a.createElement(xe.a,{value:h,id:"sort-by",onChange:function(e){switch(E(e.target.value),e.target.value){case"new":var t=i.sort((function(e,t){return new Date(t.item.listedAt).valueOf()-new Date(e.item.listedAt).valueOf()}));console.log("sorting by new"),console.log(t),l(t);break;case"asc":var a=i.sort((function(e,t){return e.item.name.toLowerCase().localeCompare(t.item.name.toLowerCase())}));l(a);break;case"high":var n=i.sort((function(e,t){return t.item.price-e.item.price}));l(n);break;case"low":var r=i.sort((function(e,t){return e.item.price-t.item.price}));l(r)}},style:{color:"#f4f4f4"}},r.a.createElement(Se.a,{value:"new"},"Newly listed"),r.a.createElement(Se.a,{value:"asc"},"Alphabetical"),r.a.createElement(Se.a,{value:"high"},"Highest price"),r.a.createElement(Se.a,{value:"low"},"Lowest price"))),r.a.createElement("div",{className:"filter-group"},r.a.createElement(Ne.a,{id:"category",style:{color:"#f4f4f4"}},"Category"),r.a.createElement(xe.a,{value:u,id:"category",onChange:function(e){d(e.target.value)},style:{color:"#f4f4f4"}},r.a.createElement(Se.a,{value:"all"},"All"),r.a.createElement(Se.a,{value:"Electronics"},"Electronics"),r.a.createElement(Se.a,{value:"Sports"},"Sports"),r.a.createElement(Se.a,{value:"Vehicles & Accessories"},"Vehicles & Accessories"),r.a.createElement(Se.a,{value:"Fashion"},"Fashion"),r.a.createElement(Se.a,{value:"Books, Movies & Music"},"Books, Movies & Music"),r.a.createElement(Se.a,{value:"Collectibles"},"Collectibles"),r.a.createElement(Se.a,{value:"Home & Garden"},"Home & Garden"),r.a.createElement(Se.a,{value:"Health & Beauty"},"Health & Beauty"),r.a.createElement(Se.a,{value:"Other"},"Others"))),r.a.createElement("div",{className:"filter-group"},r.a.createElement(ke,{onValueChange:function(e){j(e);var a=t.filter((function(t){return t.item.price>e[0]&&t.item.price<e[1]&&(t.item.category===u||"all"===u)&&t.item.name.toLowerCase().trim().includes(g.toLowerCase().trim())}));l(a)}})))),r.a.createElement("div",{className:"market-list-items"},i.map((function(e){return r.a.createElement(ve,{key:e.item.id,item:e})}))))},Ae=Object(l.b)((function(e){return{items:e.items}}))((function(e){var t=e.items;return r.a.createElement("div",{className:"marketplace-container"},r.a.createElement("button",{className:"lone-button",onClick:function(e){h.push("/marketplace/new")}},"Add a new item to the marketplace"),r.a.createElement(Ce,{items:t}))}));a(198);!function(e){e.fetchItems="FETCH_ITEMS",e.deleteItem="DELETE_ITEM",e.createItem="CREATE_ITEM",e.updateItem="UPDATE_ITEM",e.fetchUsers="FETCH_USERS"}(je||(je={}));var Ie="http://localhost:4000/api/marketplace/items",De=function(e){return function(){var t=Object(O.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:return n=t.sent,t.next=5,k.a.delete("".concat(Ie,"/").concat(e),{headers:n});case 5:200===t.sent.status?a({type:je.deleteItem,payload:e}):console.log("Delete not successful!");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Te=function(e){return function(){var t=Object(O.a)(y.a.mark((function t(a){var n,r,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:return n=t.sent,console.log(e),t.next=6,k.a.post(Ie,e);case 6:if(201!==(r=t.sent).status){t.next=14;break}return t.next=10,k.a.get("".concat(Ie,"/").concat(r.data.id),{headers:n});case 10:c=t.sent,a({type:je.createItem,payload:c.data}),t.next=15;break;case 14:console.log("Create not successful!");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Me=function(e){return function(){var t=Object(O.a)(y.a.mark((function t(a){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:return n=t.sent,t.next=5,k.a.put("".concat(Ie,"/").concat(e.itemId),e,{headers:n});case 5:if(200!==t.sent.status){t.next=13;break}return t.next=9,k.a.get("".concat(Ie,"/").concat(e.itemId));case 9:200===(r=t.sent).status?a({type:je.updateItem,payload:r.data}):console.log("Cannot fetch updated item!"),t.next=14;break;case 13:console.log("Update not successful!");case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Le=a(248),Re=Object(l.b)((function(e){return{items:e.items,user:e.user}}),{createItem:Te})((function(e){var t=e.createItem,a=e.user,c=Object(n.useState)(""),i=Object(m.a)(c,2),l=i[0],s=i[1],o=Object(n.useState)(""),u=Object(m.a)(o,2),d=u[0],f=u[1],E=Object(n.useState)("Electronics"),b=Object(m.a)(E,2),v=b[0],g=b[1],y=Object(n.useState)(""),O=Object(m.a)(y,2),w=O[0],k=O[1],j=Object(n.useState)(p()(new Date).format("YYYY-MM-DD")),N=Object(m.a)(j,2),x=N[0],S=N[1],C=Object(n.useState)("New"),A=Object(m.a)(C,2),I=A[0],D=A[1],T=Object(n.useState)(""),M=Object(m.a)(T,2),L=M[0],R=M[1],B=Object(n.useState)(!1),U=Object(m.a)(B,2),H=U[0],G=U[1],Y=Object(n.useState)(!1),P=Object(m.a)(Y,2),F=P[0],q=P[1],W=Object(n.useState)(!1),V=Object(m.a)(W,2),X=V[0],z=V[1],J=Object(n.useState)(!1),K=Object(m.a)(J,2),Z=K[0],Q=K[1],_=Object(n.useState)(!1),$=Object(m.a)(_,2),ee=$[0],te=$[1],ae=(new Date).valueOf(),ne=new Date;ne.setMonth(ne.getMonth()+2);var re=l.length<2||l.length>50,ce=0===d.length,ie=new Date(x).valueOf()<ae||new Date(x).valueOf()>ne.valueOf(),le="number"!==typeof parseInt(w)||parseInt(w)<0||parseInt(w)>3e4,se=0===I.length;return r.a.createElement("div",{className:"new-item"},r.a.createElement("form",{className:"new-item-form",onSubmit:function(e){return function(e){e.preventDefault(),G(l.length<2||l.length>50),q(0===d.length),z(new Date(x).valueOf()<ae||new Date(x).valueOf()>ne.valueOf()),Q("number"!==typeof parseInt(w)||parseInt(w)<0||parseInt(w)>3e4),te(0===I.length),re||ce||le||ie||se||(t({name:l,description:d,sold:!1,category:v,sellerId:a.id,price:parseFloat(w),listedAt:new Date,expires:new Date(x),condition:I,pictureURL:L}),h.push("/home"))}(e)}},r.a.createElement("h2",null,"Add a new product"),r.a.createElement("div",{className:"input-group-new"},r.a.createElement(Le.a,{id:"product-name",label:"Product Name",error:H,helperText:H?"Name needs to be 2-50 characters long!":null,onChange:function(e){return s(e.target.value)}})),r.a.createElement("div",{className:"input-group-new"},r.a.createElement(Le.a,{id:"product-description",label:"Description",error:F,helperText:F?"Description cannot be blank!":null,onChange:function(e){return f(e.target.value)}})),r.a.createElement("div",{className:"input-group-new"},r.a.createElement(Ne.a,{id:"category-label"},"Category"),r.a.createElement(xe.a,{value:v,labelId:"category-label",onChange:function(e){g(e.target.value)}},r.a.createElement(Se.a,{value:"Electronics"},"Electronics"),r.a.createElement(Se.a,{value:"Sports"},"Sports"),r.a.createElement(Se.a,{value:"Vehicles & Accessories"},"Vehicles & Accessories"),r.a.createElement(Se.a,{value:"Fashion"},"Fashion"),r.a.createElement(Se.a,{value:"Books, Movies & Music"},"Books, Movies & Music"),r.a.createElement(Se.a,{value:"Collectibles"},"Collectibles"),r.a.createElement(Se.a,{value:"Home & Garden"},"Home & Garden"),r.a.createElement(Se.a,{value:"Health & Beauty"},"Health & Beauty"),r.a.createElement(Se.a,{value:"Other"},"Other"))),r.a.createElement("div",{className:"input-group-new"},r.a.createElement(Le.a,{id:"product-price",label:"Price (\u20ac)",error:Z,helperText:Z?"Price must be a number between 0-30000\u20ac!":null,onChange:function(e){return k(e.target.value)}})),r.a.createElement("div",{className:"input-group-new"},r.a.createElement(Ne.a,null,"Expiration date"),r.a.createElement(Le.a,{type:"date",error:X,helperText:X?"Date must be a date within the next two months":null,onChange:function(e){return S(p()(e.target.value).format("YYYY-MM-DD"))}})),r.a.createElement("div",{className:"input-group-new"},r.a.createElement(Ne.a,{id:"item-condition"},"Condition"),r.a.createElement(xe.a,{labelId:"item-condition",value:I,id:"condition",onChange:function(e){D(e.target.value)},error:ee},r.a.createElement(Se.a,{value:"New"},"New"),r.a.createElement(Se.a,{value:"Like new"},"Like new"),r.a.createElement(Se.a,{value:"Very good"},"Very good"),r.a.createElement(Se.a,{value:"Good"},"Good"),r.a.createElement(Se.a,{value:"Acceptable"},"Acceptable"),r.a.createElement(Se.a,{value:"Poor"},"Poor"))),r.a.createElement("div",{className:"input-group-new"},r.a.createElement(Le.a,{id:"product-picture",label:"Picture URL",onChange:function(e){return R(e.target.value)}})),r.a.createElement("button",{className:"item-button",type:"submit"},"Submit"),r.a.createElement("button",{className:"item-button",onClick:function(e){e.preventDefault(),h.push("/marketplace")}},"Go Back")))})),Be=(a(199),a(119)),Ue=a.n(Be),He=a(120),Ge=a.n(He),Ye=a(121),Pe=a.n(Ye),Fe=a(122),qe=a.n(Fe),We=function(e){return r.a.createElement("div",{className:"error-faces"},r.a.createElement("img",{className:"error-trady",src:W.a,alt:"tradygradedarkblue"}),r.a.createElement("img",{className:"errormessage-trady",src:Ue.a,alt:"ERROR!"}),r.a.createElement("img",{className:"error4-trady",src:Ge.a,alt:"4"}),r.a.createElement("img",{className:"error0-trady",src:Pe.a,alt:"0"}),r.a.createElement("img",{className:"error4vol2-trady",src:qe.a,alt:"4!"}))},Ve=function(e){return r.a.createElement("div",null)},Xe=(a(200),function(){var e=Object(O.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:return a=e.sent,e.next=6,k.a.get("http://localhost:4000/api/users/".concat(t),{headers:a});case 6:return n=e.sent,e.abrupt("return",n.data);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),ze=a(71),Je=a.n(ze),Ke=Object(l.b)((function(e){return{items:e.items,user:e.user}}),{updateItem:Me,deleteItem:De})((function(e){var t=e.items,a=e.match,c=e.user,i=e.updateItem,l=e.deleteItem,s=Object(n.useState)(),o=Object(m.a)(s,2),u=o[0],d=o[1],f=Object(n.useState)(!1),E=Object(m.a)(f,2),b=E[0],v=E[1],g=Object(n.useState)(),w=Object(m.a)(g,2),k=w[0],j=w[1],N=Object(n.useState)(),x=Object(m.a)(N,2),S=x[0],C=x[1],A=Object(n.useState)(),I=Object(m.a)(A,2),D=I[0],T=I[1],M=Object(n.useState)(),L=Object(m.a)(M,2),R=L[0],B=L[1],U=Object(n.useState)(),G=Object(m.a)(U,2),P=G[0],F=G[1],q=Object(n.useState)(),W=Object(m.a)(q,2),V=W[0],X=W[1],z=Object(n.useState)(),J=Object(m.a)(z,2),K=J[0],Z=J[1],Q=Object(n.useState)(),_=Object(m.a)(Q,2),$=_[0],ee=_[1],te=Object(n.useState)(),ae=Object(m.a)(te,2),ne=ae[0],re=ae[1];Object(n.useEffect)((function(){var e=t.find((function(e){return e.item.id==String(a.params.itemid)}));d(e),j(null===e||void 0===e?void 0:e.item.id),C(null===e||void 0===e?void 0:e.item.name),T(null===e||void 0===e?void 0:e.item.description),B(null===e||void 0===e?void 0:e.item.category),F(null===e||void 0===e?void 0:e.item.price),X(null===e||void 0===e?void 0:e.item.listedAt),Z(null===e||void 0===e?void 0:e.item.expires),ee(null===e||void 0===e?void 0:e.item.condition),re(null===e||void 0===e?void 0:e.item.pictureURL)}),[a.params.id]);var ce=function(){var e=Object(O.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===u||void 0===u?void 0:u.seller.id)){e.next=5;break}return e.next=3,Xe(null===u||void 0===u?void 0:u.seller.id);case 3:(a=e.sent)&&(n=a.email,console.log(n),Je.a.fire({title:"Are you sure you really want to purchase this product?",text:"Seller will be informed via email with your contact details included",icon:"info",showCancelButton:!0}).then((function(e){e.value?(window.Email.send({Host:"smtp.gmail.com",Username:"tradygrade@gmail.com",Password:"Lillerilalleri_01",To:"".concat(n),From:"tradygrade@gmail.com",Subject:"".concat(c.name," wants to buy ").concat(null===u||void 0===u?void 0:u.item.name,"!"),Body:"Hello, ".concat(null===u||void 0===u?void 0:u.seller.name,"! <br> <br>\n              ").concat(c.name," has told us he/she wants to buy your ").concat(null===u||void 0===u?void 0:u.item.name,". <br>\n              His/her email is ").concat(c.email,", please contact him as soon as possible! <br> <br>\n              Best Regards, <br>\n              TradyGrade Team")}),Je.a.fire("Email sent!","Seller will get back to you as soon as possible!","success")):Je.a.fire("Cancelled","No email was sent!","error")})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(O.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u||!c.id){e.next=18;break}return e.prev=1,e.next=4,H(c.id,u.seller.id);case 4:if(a=e.sent){e.next=12;break}return e.next=8,Y({user1:c.id,user2:u.seller.id});case 8:n=e.sent,h.push("/chat/".concat(n.id,"/").concat(u.seller.name)),e.next=13;break;case 12:h.push("/chat/".concat(a,"/").concat(u.seller.name));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),alert("Something went wrong! Please try to start the chat by clicking the Chat-icon from the navigation!");case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),le=function(e){h.goBack()};return u?r.a.createElement("div",{className:"item-item-container"},r.a.createElement("div",{className:"item-info-edit-container"},r.a.createElement("div",{className:"item-content"},r.a.createElement("div",null,r.a.createElement("div",{className:"item-text-content"},r.a.createElement("img",{className:"item-picture",src:u.item.pictureURL}),r.a.createElement("br",null),r.a.createElement("div",{className:"item-price-and-title"},r.a.createElement("h3",{className:"item-title"},u.item.name),r.a.createElement("h3",{className:"item-price"},"".concat(u.item.price," \u20ac"))),u.seller.name!==c.name?r.a.createElement("div",null,r.a.createElement("div",{className:"seller",onClick:function(e){return function(e){if(u){var t=u.seller.name.replace(/\s/,"");h.push({pathname:"/users/".concat(t),state:{name:u.seller.name}})}}()},title:"Go to user profile"},u.seller.name)):null,r.a.createElement("div",null,u.item.description),r.a.createElement("p",null,"Condition: ",u.item.condition),r.a.createElement("p",null,"Listed: ",p()(u.item.listedAt).format("DD-MM-YYYY")),r.a.createElement("p",null,"Expiring: ",p()(u.item.expires).format("DD-MM-YYYY"))),u.seller.name!==c.name?r.a.createElement("div",{className:"sales-item-buttons-for-buyer"},r.a.createElement("button",{className:"item-button",onClick:ce},"Buy Item"),r.a.createElement("br",null),r.a.createElement("button",{className:"item-button",onClick:ie},"Chat With Seller"),r.a.createElement("br",null),r.a.createElement("button",{className:"item-button",onClick:le},"Go Back")):r.a.createElement("div",{className:"sales-item-buttons-for-seller"},r.a.createElement("button",{className:"item-button",onClick:function(){v(!b)}},"Edit"),r.a.createElement("br",null),r.a.createElement("button",{className:"item-button",onClick:function(){return e=u.item.id,l(e),void h.push("/marketplace/");var e}},"Delete"),r.a.createElement("br",null),r.a.createElement("button",{className:"item-button",onClick:le},"Go Back")))),r.a.createElement("div",{className:"edit-item"},b?r.a.createElement("div",{className:"edit-item-block"},r.a.createElement("div",{className:"edit-item"},r.a.createElement("form",{className:"edit-item-form",onSubmit:function(e){return function(e){e.preventDefault(),i({itemId:k,name:S,description:D,sold:!1,category:R,sellerId:c.id,price:parseFloat(P),listedAt:new Date(V),expires:new Date(K),condition:$,pictureURL:ne}),h.push("/marketplace/")}(e)}},r.a.createElement("h2",null,"Edit ",u.item.name),r.a.createElement("div",{className:"input-group-edit"},r.a.createElement(Le.a,{value:S,id:"product-name",label:"Product Name",onChange:function(e){return C(e.target.value)}})),r.a.createElement("div",{className:"input-group-edit"},r.a.createElement(Le.a,{value:D,id:"product-description",label:"Description",onChange:function(e){return T(e.target.value)}})),r.a.createElement("div",{className:"input-group-edit"},r.a.createElement(Ne.a,{id:"category-label"},"Category"),r.a.createElement(xe.a,{value:R,labelId:"category-label",onChange:function(e){B(e.target.value)}},r.a.createElement(Se.a,{value:"Electronics"},"Electronics"),r.a.createElement(Se.a,{value:"Sports"},"Sports"),r.a.createElement(Se.a,{value:"Vehicles & Accessories"},"Vehicles & Accessories"),r.a.createElement(Se.a,{value:"Fashion"},"Fashion"),r.a.createElement(Se.a,{value:"Books, Movies & Music"},"Books, Movies & Music"),r.a.createElement(Se.a,{value:"Collectibles"},"Collectibles"),r.a.createElement(Se.a,{value:"Home & Garden"},"Home & Garden"),r.a.createElement(Se.a,{value:"Health & Beauty"},"Health & Beauty"),r.a.createElement(Se.a,{value:"Other"},"Other"))),r.a.createElement("div",{className:"input-group-edit"},r.a.createElement(Le.a,{value:P,id:"product-price",label:"Price (\u20ac)",onChange:function(e){return F(parseInt(e.target.value))}})),r.a.createElement("div",{className:"input-group-edit"},r.a.createElement(Ne.a,null,"Expiration date"),r.a.createElement(Le.a,{value:K,type:"date",onChange:function(e){return Z(p()(e.target.value).format("YYYY-MM-DD"))}})),r.a.createElement("div",{className:"input-group-edit"},r.a.createElement(Ne.a,{id:"item-condition"},"Condition"),r.a.createElement(xe.a,{labelId:"item-condition",value:$,id:"condition",onChange:function(e){ee(e.target.value)}},r.a.createElement(Se.a,{value:"New"},"New"),r.a.createElement(Se.a,{value:"Like new"},"Like new"),r.a.createElement(Se.a,{value:"Very good"},"Very good"),r.a.createElement(Se.a,{value:"Good"},"Good"),r.a.createElement(Se.a,{value:"Acceptable"},"Acceptable"),r.a.createElement(Se.a,{value:"Poor"},"Poor"))),r.a.createElement("div",{className:"input-group-edit"},r.a.createElement(Le.a,{value:ne,id:"product-picture",label:"Picture URL",onChange:function(e){return re(e.target.value)}})),r.a.createElement("button",{className:"item-button",type:"submit"},"Submit"),r.a.createElement("button",{className:"item-button",onClick:function(e){e.preventDefault(),h.push("/marketplace")}},"Go Back to Market Place")))):null))):r.a.createElement("p",null,"Loading, please wait...")})),Ze=(a(76),function(e){var t=e.user,a=function(){var e=Object(O.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("We didn't have time to implement this feature. It will be here soon!");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"user-list-item",key:t.id},r.a.createElement("span",null,t.name),r.a.createElement("button",{className:"result-button",onClick:a},"Chat"),r.a.createElement("button",{className:"result-button",onClick:function(e){h.push({pathname:"/users/".concat(t.name)})}},"View Profile"))}),Qe=function(e){var t=e.users;return r.a.createElement("div",{className:"users-search-list"},r.a.createElement("h3",null,"Matching users"),t.map((function(e){return r.a.createElement(Ze,{user:e})})))},_e=function(e){var t=e.item;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"product-list-item"},r.a.createElement("div",null,t.item.name),r.a.createElement("button",{className:"result-button",onClick:function(e){h.push("/marketplace/".concat(t.item.id))}},"View Item")))},$e=function(e){var t=e.items;return r.a.createElement("div",{className:"items-search-list"},r.a.createElement("h3",null,"Matching products"),t.map((function(e){return r.a.createElement(_e,{key:e.item.id,item:e})})))},et=Object(l.b)((function(e){return{items:e.items}}))((function(e){var t=e.location,a=Object(n.useState)(!1),c=Object(m.a)(a,2),i=c[0],l=c[1],s=Object(n.useState)(!1),o=Object(m.a)(s,2),u=o[0],d=o[1];Object(n.useEffect)((function(){l(!1),d(!1)}),[t.state.filteredItems,t.state.filteredUsers]);var p=function(e){"Products"===e.target.innerText?(l(!0),d(!1)):(l(!1),d(!0))};return r.a.createElement("div",{className:"result-container"},r.a.createElement("span",null,"Show me only:"),r.a.createElement("button",{className:"filter-button",onClick:function(e){return p(e)}},"Products"),r.a.createElement("button",{className:"filter-button",onClick:function(e){return p(e)}},"Users"),r.a.createElement("div",{className:"users-and-items"},i&&r.a.createElement($e,{items:t.state.filteredItems}),u&&r.a.createElement(Qe,{users:t.state.filteredUsers}),!u&&!i&&r.a.createElement(r.a.Fragment,null,r.a.createElement($e,{items:t.state.filteredItems}),r.a.createElement(Qe,{users:t.state.filteredUsers}))))})),tt=a(70),at=(a(201),a(29)),nt={logOutConnect:function(){return function(){var e=Object(O.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://localhost:4000/api/auth/logout",{method:"DELETE"}),window.localStorage.setItem("token","null"),window.localStorage.setItem("refreshToken","null"),t({type:"LOGOUT_SUCCESS"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},rt=Object(l.b)((function(e){return{user:e.user}}),nt)((function(e){var t=e.user,a=e.logOutConnect;return r.a.createElement("div",{className:"nav"},r.a.createElement("ul",{className:"main-navigation"},r.a.createElement("li",{className:"app-list-item"},r.a.createElement("img",{src:b.a,className:"App-logo",alt:"logo",height:"40px"})),r.a.createElement("li",null,r.a.createElement(at.a,{to:"/home",style:{textDecoration:"none"}},r.a.createElement("div",{className:"nav-item"},r.a.createElement("i",{className:"fas fa-home"}),r.a.createElement("span",{className:"nav-text"},"Home")))),r.a.createElement("li",null,r.a.createElement(at.a,{to:"/marketplace",style:{textDecoration:"none"}},r.a.createElement("div",{className:"nav-item"},r.a.createElement("i",{className:"fas fa-shopping-cart"}),r.a.createElement("span",{className:"nav-text"},"Market")))),r.a.createElement("li",null,r.a.createElement(at.a,{to:"/chat",style:{textDecoration:"none"}},r.a.createElement("div",{className:"nav-item"},r.a.createElement("i",{className:"fas fa-comments"}),r.a.createElement("span",{className:"nav-text"},"Chat"))))),r.a.createElement("ul",{className:"account-navigation"},r.a.createElement("li",null,r.a.createElement(at.a,{to:"/account",style:{textDecoration:"none"}},r.a.createElement("div",{className:"nav-item"},r.a.createElement("i",{className:"fas fa-user-circle"}),r.a.createElement("span",{className:"nav-text"},"My profile")))),r.a.createElement("li",null,r.a.createElement(at.a,{onClick:function(){return a(t)},to:"/",style:{textDecoration:"none"}},r.a.createElement("div",{className:"nav-item"},r.a.createElement("i",{className:"fas fa-sign-out-alt"}),r.a.createElement("span",{className:"nav-text"},"Log Out"))))))})),ct=(a(203),Object(l.b)((function(e){return{users:e.users,items:e.items}}))((function(e){var t=e.history,a=e.users,c=e.items,i=Object(n.useState)(""),l=Object(m.a)(i,2),s=l[0],o=l[1],u=Object(n.useState)([]),d=Object(m.a)(u,2),p=d[0],f=d[1],h=Object(n.useState)([]),E=Object(m.a)(h,2),b=E[0],v=E[1];return r.a.createElement("div",{className:"search-container"},r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),o(""),t.push({pathname:"/marketplace/search",state:{filteredUsers:p,filteredItems:b}})}(e)}},r.a.createElement("input",{type:"text",name:"searchbar",id:"searchbar",placeholder:"Search for items or users...",className:"searchbar",value:s,onChange:function(e){return function(e){o(e.target.value);var t=a.filter((function(e){if(e.name.toLowerCase().trim().includes(s.toLowerCase().trim()))return e})),n=c.filter((function(e){if(e.item.name.toLowerCase().trim().includes(s.toLowerCase().trim()))return e}));f(t),v(n)}(e)}})))}))),it=Object(l.b)((function(e){return{user:e.user}}))((function(e){var t=e.component,a=e.user,r=Object(tt.a)(e,["component","user"]);return n.createElement(n.Fragment,null,n.createElement(s.b,Object.assign({},r,{render:function(e){return a.isAuthenticated?n.createElement(n.Fragment,null,n.createElement(rt,null),n.createElement(ct,e),n.createElement(t,e)):n.createElement(s.a,{to:"/"})}})))})),lt=Object(l.b)((function(e){return{user:e.user}}))((function(e){var t=e.component,a=e.user;Object(tt.a)(e,["component","user"]);return a.isAuthenticated?n.createElement(s.a,{to:"/home"}):n.createElement(n.Fragment,null,n.createElement(s.b,{render:function(e){return n.createElement(n.Fragment,null,n.createElement(t,e))}}))})),st={deleteItem:De,updateItem:Me,createItem:Te},ot=Object(l.b)((function(e){return{items:e.items}}),st)((function(e){var t=e.items,a=e.deleteItem,c=(e.updateItem,e.createItem),i=Object(n.useState)(""),l=Object(m.a)(i,2),s=l[0],o=l[1],u=Object(n.useState)(""),d=Object(m.a)(u,2),f=d[0],h=d[1],E=Object(n.useState)(0),b=Object(m.a)(E,2),v=b[0],g=b[1],y=Object(n.useState)(""),O=Object(m.a)(y,2),w=O[0],k=O[1],j=Object(n.useState)(0),N=Object(m.a)(j,2),x=N[0],S=N[1],C=Object(n.useState)(p()(new Date).format("YYYY-MM-DD")),A=Object(m.a)(C,2),I=A[0],D=A[1],T=Object(n.useState)(""),M=Object(m.a)(T,2),L=M[0],R=M[1],B=Object(n.useState)(""),U=Object(m.a)(B,2),H=U[0],G=U[1];return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),c({name:s,description:f,sold:!1,sellerId:v,category:w,price:x,listedAt:new Date,expires:new Date(I),condition:L,pictureURL:H})}(e)}},r.a.createElement("input",{type:"number",placeholder:"Seller id",onChange:function(e){return g(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Enter product name",onChange:function(e){return o(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Enter description",onChange:function(e){return h(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Enter category",onChange:function(e){return k(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"number",placeholder:"Enter price",onChange:function(e){return S(e.target.value)}}),r.a.createElement("br",null),"Enter expiration date: ",r.a.createElement("br",null),r.a.createElement("input",{type:"date",onChange:function(e){return D(p()(e.target.value).format("YYYY-MM-DD"))}}),r.a.createElement("br",null),"Condition: ",r.a.createElement("br",null),r.a.createElement("select",{name:"condition",id:"condition",onChange:function(e){return R(e.target.value)}},r.a.createElement("option",{value:"New"},"New"),r.a.createElement("option",{value:"Very good"},"Very good"),r.a.createElement("option",{value:"Poor"},"Poor"))," ",r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Enter picture URL",onChange:function(e){return G(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Add to DB")),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.item.id},e.item.name,r.a.createElement("button",{onClick:function(){return a(e.item.id)}},"X"))}))))})),ut=Object(l.b)((function(e){return{user:e.user,users:e.users,items:e.items}}))((function(e){var t=e.users,a=e.items,c=(e.location,e.history),i=e.match,l=Object(n.useState)([]),s=Object(m.a)(l,2),o=s[0],d=s[1],f=Object(n.useState)(),h=Object(m.a)(f,2),E=h[0],v=h[1];Object(n.useEffect)((function(){var e=t.find((function(e){return e.name===i.params.name}));v(e),g()}),[]);var g=function(){a.map((function(e){return e.seller.name===i.params.name?d((function(t){return[].concat(Object(u.a)(t),[e])})):null}))};return E?r.a.createElement("div",{className:"my-account"},r.a.createElement("div",{className:"account-management-container"},r.a.createElement("div",{className:"account-management-user-picture"},r.a.createElement("img",{src:E.image_url||b.a,alt:E.name})),r.a.createElement("div",{className:"account-management-user-info"},r.a.createElement("div",{id:"div1"},"username:"),r.a.createElement("div",{id:"div2"},r.a.createElement("h3",null,E.name)),r.a.createElement("br",null),r.a.createElement("div",{id:"div1"},"email:"),r.a.createElement("div",{id:"div2"},r.a.createElement("p",null,E.email)),r.a.createElement("br",null))),r.a.createElement("div",{className:"item-management-container"},r.a.createElement("button",{className:"go-back-button",onClick:function(e){c.goBack()}},"Go back"),r.a.createElement("h1",null,E.name,"'s stuff"),r.a.createElement("div",{className:"my-item-list"},o.map((function(e){return r.a.createElement("div",{className:"my-item",key:e.item.id,onClick:function(){return c.push("/marketplace/".concat(e.item.id))}},r.a.createElement("p",null,e.item.name," / ",e.item.price,"\u20ac"),r.a.createElement("img",{className:"my-item-picture",src:e.item.pictureURL,height:"100px"}),r.a.createElement("p",null,"Listed By: ",e.seller.name),r.a.createElement("p",{className:"dash-date"},p()(e.item.listedAt).format("DD-MM-YYYY")))}))))):r.a.createElement("p",null,"Loading details, please wait...")})),mt=function(){return n.createElement(n.Fragment,null,n.createElement(s.d,null,n.createElement(lt,{path:"/",exact:!0,component:be}),n.createElement(lt,{path:"/about",exact:!0,component:o}),n.createElement(it,{path:"/home",exact:!0,component:ae}),n.createElement(it,{path:"/account",exact:!0,component:v}),n.createElement(s.b,{path:"/404",exact:!0,component:We}),n.createElement(it,{path:"/chat",exact:!0,component:V}),n.createElement(it,{path:"/chat/:chatid/:chatuser",exact:!0,component:$}),n.createElement(it,{path:"/marketplace/search",exact:!0,component:et}),n.createElement(it,{path:"/marketplace",exact:!0,component:Ae}),n.createElement(it,{path:"/marketplace/new",exact:!0,component:Re}),n.createElement(it,{path:"/marketplace/:itemid",exact:!0,component:Ke}),n.createElement(it,{path:"/marketplace/:itemid/review",exact:!0,component:Ve}),n.createElement(it,{path:"/users/:name",exact:!0,component:ut}),n.createElement(s.b,{exact:!0,path:"/itemplayground",component:ot}),n.createElement(s.b,{path:"*",component:We})))},dt={checkAuthenticationConnect:function(){return function(){var e=Object(O.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.getItem("token");case 2:if(a=e.sent,n={refreshToken:window.localStorage.getItem("refreshToken")},a){e.next=7;break}return t({type:"UNAUTHENTICATE"}),e.abrupt("return");case 7:return e.next=9,fetch("".concat(ce,"/token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.token?(window.localStorage.setItem("token",e.token),t(ie(e))):t({type:"UNAUTHENTICATE"})}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},loadUser:function(){return function(){var e=Object(O.a)(y.a.mark((function e(t){var a,n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("token"),n=localStorage.getItem("refreshToken"),a||n){e.next=4;break}return e.abrupt("return");case 4:if(!n||a){e.next=7;break}return e.next=7,A(n);case 7:return t({type:"USER_LOADING"}),e.next=10,S();case 10:r=e.sent,fetch(ce,{headers:r}).then((function(e){return M(e),e.json()})).then((function(e){t({type:"USER_LOADED",payload:e})})).catch((function(e){t(ne(Object(j.a)({},e,{id:"AUTH_ERROR"}))),t({type:"AUTH_ERROR"})}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fetchItems:function(){return function(){var e=Object(O.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return a=e.sent,e.next=5,k.a.get(Ie,{headers:a});case 5:n=e.sent,t({type:je.fetchItems,payload:n.data});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fetchUsers:function(){return function(){var e=Object(O.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return a=e.sent,console.log(a),e.next=6,k.a.get("http://localhost:4000/api/users",{headers:a});case 6:n=e.sent,t({type:je.fetchUsers,payload:n.data});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},pt=Object(l.b)((function(e){return{items:e.items,user:e.user,users:e.users}}),dt)((function(e){e.checkAuthenticationConnect;var t=e.fetchItems,a=e.fetchUsers,c=e.loadUser;e.items,e.user;return Object(n.useEffect)((function(){c(),t(),a()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(s.c,{history:h},r.a.createElement(s.b,{component:mt})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ft=a(33),ht=a(124),Et=a(125);var bt=Object(ft.combineReducers)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je.fetchItems:return t.payload;case je.createItem:return[t.payload].concat(Object(u.a)(e));case je.deleteItem:return e.filter((function(e){return e.item.id!==t.payload}));case je.updateItem:return e.map((function(e){return e.item.id===t.payload.item.id?t.payload:e}));default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"",email:null,password:null,token:localStorage.getItem("token"),refreshToken:localStorage.getItem("refreshToken"),image_url:null,isAuthenticated:null,isLoading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REFRESH_TOKEN":return Object(j.a)({},t.payload);case"USER_LOADING":return Object(j.a)({},e,{isLoading:!0});case"AUTHENTICATE":case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),localStorage.setItem("refreshToken",t.payload.refreshToken),{id:t.payload.id,name:t.payload.name,email:t.payload.email,token:t.payload.token,refreshToken:t.payload.refreshToken,password:t.payload.password,image_url:t.payload.picture,isAuthenticated:!0,isLoading:!1};case"USER_LOADED":return{id:t.payload.id,name:t.payload.name,email:t.payload.email,token:localStorage.getItem("token"),refreshToken:localStorage.getItem("refreshToken"),password:t.payload.password,image_url:t.payload.picture,isAuthenticated:!0,isLoading:!1};case"REGISTER_SUCCESS":return Object(j.a)({},e,{isLoading:!1,isAuthenticated:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"REGISTER_FAIL":case"UNAUTHENTICATE":return localStorage.removeItem("token"),{name:"",email:null,password:null,token:null,refreshToken:null,image_url:null,isAuthenticated:!1,isLoading:!1};case"LOGOUT_SUCCESS":return localStorage.removeItem("refreshToken"),localStorage.removeItem("token"),{name:"",email:null,password:null,token:null,refreshToken:null,image_url:null,isAuthenticated:!1,isLoading:!1};default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:{},status:null,id:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{message:t.payload.message,status:t.payload.status,id:t.payload.id};case"CLEAR_ERRORS":return{message:{},status:null,id:null};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je.fetchUsers:return t.payload;default:return e}}}),vt=Object(ft.createStore)(bt,Object(ht.composeWithDevTools)(Object(ft.applyMiddleware)(Et.a)));i.a.render(r.a.createElement(l.a,{store:vt},r.a.createElement(pt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},25:function(e,t,a){e.exports=a.p+"static/media/tradyheadorange.5c2ab93e.png"},63:function(e,t,a){e.exports=a.p+"static/media/tradygradedarkblue.46716934.png"},76:function(e,t,a){},79:function(e,t){e.exports="data:image/png;base64,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"},90:function(e,t,a){},91:function(e,t,a){}},[[131,1,2]]]);
//# sourceMappingURL=main.3a91216e.chunk.js.map