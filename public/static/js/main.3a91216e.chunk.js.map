{"version":3,"sources":["pictures/renderingChat.gif","pictures/error.png","pictures/error4vol1.png","pictures/error0.png","pictures/error4vol2.png","components/views/About.tsx","history.ts","components/views/AccountManagement.tsx","services/util.ts","services/chat.ts","components/views/ChatList.tsx","components/chat-window/ChatOutput.tsx","components/chat-window/ComposeMessage.tsx","components/chat-window/MyChats.tsx","components/views/ChatWindow.tsx","components/dashboard/NewsFeedPost.tsx","components/dashboard/NewsFeed.tsx","components/views/Dashboard.tsx","actions/errorActions.ts","models/constants.ts","actions/userActions.ts","components/landing/LogIn.tsx","components/landing/Register.tsx","components/views/Landing.tsx","components/marketplace/MarketListItem.tsx","components/marketplace/RangeSlider.tsx","actions/types.ts","components/marketplace/MarketList.tsx","components/views/Marketplace.tsx","actions/index.ts","components/views/NewSalesItem.tsx","components/views/NotFound.tsx","components/views/Review.tsx","services/users.ts","components/views/SalesItem.tsx","components/search-results/UserComponent.tsx","components/search-results/UsersList.tsx","components/search-results/ItemComponent.tsx","components/search-results/ItemsList.tsx","components/views/SearchResults.tsx","components/Navigation.tsx","components/dashboard/Search.tsx","components/LoggedInRoute.tsx","components/LoggedOutRoute.tsx","components/ItemPlayground.tsx","components/views/UserProfile.tsx","components/Pages.tsx","App.tsx","actions/users.ts","serviceWorker.ts","reducers/users.ts","reducers/index.ts","reducers/items.ts","reducers/user.ts","reducers/error.ts","store/index.ts","index.tsx","pictures/tradyheadorange.png","pictures/tradygradedarkblue.png","components/chat-window/icon.png"],"names":["module","exports","About","props","history","createBrowserHistory","connect","state","user","items","useState","name","email","image_url","userData","myItems","setMyItems","useEffect","getMyStuff","map","item","seller","id","className","src","icon","alt","onClick","e","goBack","key","push","price","pictureURL","height","moment","listedAt","format","tokenAndHeaderConfig","a","token","localStorage","getItem","refreshToken","headers","expired","checkIfTokenIsExpired","checkIfRefreshTokenIsExpired","utilizeRefreshToken","fetch","method","body","JSON","stringify","then","res","json","data","setItem","catch","error","console","exp","jwt_decode","Date","now","log","handleErrors","response","ok","Error","statusText","MessageUrl","getMessageHistory","chatID","axios","get","status","addNewMessage","post","ChatUrl","getChatID","user1","user2","length","chat_id","getChats","userid","newChat","userids","users","chatList","setChatList","userList","setUserList","selectedUser","setSelectedUser","renderingYes","setRenderingYes","filterUserList","myChatList","userArray","targetArray","chatid","myLists","createChat","newChatID","onChange","parseInt","target","value","placeholder","color","renderIcon","undefined","chat","style","textDecoration","picture","ChatOutput","setMessageHistory","newMessage","setNewMessages","typingInfo","setTypingMessages","setChatIDField","myName","userField","setUserField","position","message","messageHistory","username","time","timestamp","element","document","getElementById","innerHTML","scrollTop","scrollHeight","messages","getHistory","newMessages","addNewRow","typingMessages","someoneIsTyping","typer","feedback","ComposeMessage","messageField","setMessageField","myPicture","userPicture","setUserPicture","setChatID","timeStamp","autoComplete","onSubmit","preventDefault","trim","emitMessage","myUserId","type","autoFocus","typingMessage","MyChats","otherUserName","otherUserPicture","match","params","setMessages","setTypingInfo","setMyUsedID","setMyName","setMyPicture","setOtherUserName","setOtherUserPicture","socket","setSocket","getOtherChatUser","io","emit","on","offlineMessage","other","find","chatuser","NewsFeedPost","title","author","image","NewsFeed","recentItemsShow","setRecentItemsShow","sort","b","valueOf","index","returnErrors","payload","clearErrors","authUrl","authenticate","useStyles","makeStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","outline","borderRadius","boxShadow","shadows","padding","spacing","mapDispatchToProps","logInConnect","password","dispatch","loggedInUser","isAuthenticated","isLoading","window","returnErrorsConnect","clearErrorsConnect","errorState","classes","open","setOpen","setName","setPassword","errorMessage","setErrorMessage","Modal","aria-labelledby","aria-describedby","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","register","handleClose","setConfirmPassword","setEmail","confirmPassword","handleRegister","Landing","MarketListItem","root","width","valuetext","RangeSlider","onValueChange","React","setValue","Typography","gutterBottom","Slider","event","newValue","valueLabelDisplay","getAriaValueText","min","max","ActionTypes","MarketList","filteredItems","setFilteredItems","category","setCategory","sortBy","setSortBy","filterText","setFilterText","sliderValues","setSliderValues","showFilter","setShowFilter","sportsArray","filter","itemArr","vehicleArray","booksArray","fashionArray","collectiblesArray","homeArray","beautyArray","otherArray","showMenu","marginLeft","filteredByWord","toLowerCase","includes","InputLabel","Select","sortedArray","ascArray","localeCompare","sortByHigh","sortByLow","MenuItem","values","filteredByPrice","ItemUrl","deleteItem","delete","createItem","updateItem","put","itemId","itemData","description","setDescription","setPrice","expiration","setExpiration","condition","setCondition","pictureUrl","setPictureUrl","nameError","setNameError","descriptionError","setDescriptionError","dateError","setDateError","priceError","setPriceError","conditionError","setConditionError","today","twoMonthsFromNow","setMonth","getMonth","initialNameError","initialDescriptionError","initialDateError","initialPriceError","initialConditionError","sold","sellerId","parseFloat","expires","handleSubmit","TextField","label","helperText","labelId","NotFound","errorpicture","errorpicture4","errorpicture0","errorpicture4vol2","Review","getUser","editing","setEditing","setItemId","listed","setListed","matchingItem","String","itemid","handleBuy","sellerEmail","Swal","fire","text","showCancelButton","result","Email","send","Host","process","Username","Password","To","From","Subject","Body","handleChat","chatExists","alert","userUrlParam","replace","pathname","handleProfileClick","UserComponent","UsersList","ItemComponent","Fragment","ItemsList","location","showProductsOnly","setShowProductsOnly","showUsersOnly","setshowUsersOnly","filteredUsers","handleFilter","innerText","logOutConnect","logo","to","searchText","setSearchText","setFilteredUsers","handleSearch","matchingUsers","matchingItems","handleSearchChange","Component","component","otherProps","render","setSellerId","setUser","currentUser","Pages","path","exact","Dashboard","AccountManagement","ChatList","ChatWindow","SearchResults","Marketplace","NewSalesItem","SalesItem","UserProfile","ItemPlayground","checkAuthenticationConnect","loadUser","fetchItems","fetchUsers","Boolean","hostname","rootReducer","combineReducers","action","initialState","removeItem","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3a91216e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/renderingChat.cafd6c7f.gif\";","module.exports = __webpack_public_path__ + \"static/media/error.1e3bd7dc.png\";","module.exports = __webpack_public_path__ + \"static/media/error4vol1.58fbe598.png\";","module.exports = __webpack_public_path__ + \"static/media/error0.8f5d6425.png\";","module.exports = __webpack_public_path__ + \"static/media/error4vol2.2b5ad922.png\";","/*\r\nThis component gives the user information about the application and presents the developer team and their contact information\r\n*/\r\nimport React from 'react'\r\n\r\ninterface Props {\r\n    \r\n}\r\n\r\nconst About = (props: Props) => {\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default About\r\n","// tslint:disable:interface-name\r\nimport { createBrowserHistory } from \"history\";\r\ndeclare global {\r\n  interface Window {\r\n    dataLayer: any;\r\n  }\r\n}\r\nconst history = createBrowserHistory();\r\nexport default history;","/*\r\nThis component is the view where users can manage account details such as username, display image etc. Users can log out or terminate accounts here. Also displays items that the user currently has for sale. \r\n*/\r\nimport React, { useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport { StoreState, User, Item } from \"../../models/types\";\r\nimport { History, LocationState } from \"history\";\r\nimport history from \"../../history\";\r\nimport { connect } from \"react-redux\";\r\nimport icon from \"../../pictures/tradyheadorange.png\";\r\nimport \"./AccountManagement.scss\";\r\n\r\ninterface Props {\r\n  user: User;\r\n  items: Item[];\r\n  history: History<LocationState>;\r\n}\r\n\r\nconst AccountManagement = ({ user, items }: any) => {\r\n  const [userData, setUserData] = useState({\r\n    name: user.name,\r\n    email: user.email,\r\n    image_url: user.image_url\r\n  });\r\n  const [myItems, setMyItems] = useState<Array<any>>([]);\r\n\r\n  useEffect(() => {\r\n    getMyStuff();\r\n  }, []);\r\n\r\n  const getMyStuff = () => {\r\n    items.map((item: Item) =>\r\n      item.seller.id === user.id\r\n        ? setMyItems(myItems => [...myItems, item])\r\n        : null\r\n    );\r\n  };\r\n\r\n  const goBack = (e: any): void => {\r\n    history.goBack();\r\n  };\r\n\r\n  return (\r\n    <div className=\"my-account\">\r\n      <div className=\"account-management-container\">\r\n        <div className=\"account-management-user-picture\">\r\n          <img src={userData.image_url || icon} alt={userData.name} />\r\n        </div>\r\n        <div className=\"account-management-user-info\">\r\n          <div id=\"div1\">username:</div>\r\n          <div id=\"div2\">\r\n            <h3>{userData.name}</h3>\r\n          </div>\r\n          <br />\r\n          <div id=\"div1\">email:</div>\r\n          <div id=\"div2\">\r\n            <p>{userData.email}</p>\r\n          </div>\r\n          <br />\r\n        </div>\r\n      </div>\r\n      <div className=\"item-management-container\">\r\n          <button className=\"go-back-button\" onClick={goBack}>\r\n            Go back\r\n          </button>\r\n        <h1>My stuff</h1>\r\n        <div className=\"my-item-list\">\r\n          {myItems.map(item => (\r\n            <div\r\n              className=\"my-item\"\r\n              key={item.item.id}\r\n              onClick={() => history.push(`/marketplace/${item.item.id}`)}\r\n            >\r\n              <p>\r\n                {item.item.name} / {item.item.price}€\r\n              </p>\r\n              <img\r\n                className=\"my-item-picture\"\r\n                src={item.item.pictureURL}\r\n                height=\"100px\"\r\n              />\r\n              <p>Listed By: {item.seller.name}</p>\r\n              <p className=\"dash-date\">\r\n                {moment(item.item.listedAt).format(\"DD-MM-YYYY\")}\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => ({\r\n  user: state.user,\r\n  items: state.items\r\n});\r\n\r\nexport default connect(mapStateToProps)(AccountManagement);\r\n","import jwt_decode from 'jwt-decode'\r\n\r\nexport async function tokenAndHeaderConfig() {\r\n    // get token from localstorage    \r\n    let token = localStorage.getItem(\"token\")\r\n    const refreshToken = localStorage.getItem(\"refreshToken\")\r\n    //set request headers\r\n    let headers: Object = { \"Content-Type\": \"application/json\" }\r\n    if (token) {\r\n        //check if access token has expired\r\n        let expired = checkIfTokenIsExpired(token)\r\n        if (expired && refreshToken) {\r\n            //check if refresh token has expired\r\n            const refreshTokenExpired = checkIfRefreshTokenIsExpired(refreshToken)\r\n            //valid refresh token exists, retrieve new access token\r\n            if (!refreshTokenExpired) {\r\n                await utilizeRefreshToken(refreshToken)\r\n                token = localStorage.getItem(\"token\")\r\n                expired = false\r\n            }\r\n        }\r\n        //preexisting token is valid or a new token has been applied, add to headers \r\n        if (token && !expired) headers = { ...headers, \"Authorization\": `Bearer ${token}` }\r\n    }\r\n    return headers\r\n}\r\n\r\nexport async function utilizeRefreshToken(refreshToken: string) {\r\n    await fetch(\"http://localhost:4000/api/auth/token\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ refreshToken: refreshToken })\r\n    })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            localStorage.setItem(\"token\", data.user.token)\r\n        })\r\n        .catch(error => console.error(error))\r\n}\r\n\r\nexport const checkIfTokenIsExpired = (token: string) => {\r\n    const { exp } = jwt_decode(token)\r\n    if (Date.now() >= exp * 1000) {\r\n        console.log(\"token has expired, attempting to refresh...\");\r\n        return true;\r\n    }\r\n    // token is not expired:\r\n    else return false\r\n}\r\n\r\nexport const checkIfRefreshTokenIsExpired = (refreshToken: string) => {\r\n    const { exp } = jwt_decode(refreshToken)\r\n    if (Date.now() >= exp * 1000) {\r\n        console.log(\"refresh token has expired, please log in again to renew authorization\");\r\n        return true;\r\n    }\r\n    // token is not expired:\r\n    else return false\r\n}\r\n\r\n// handles fetch errors\r\nexport function handleErrors(response: any) {\r\n    if (!response.ok) {\r\n        throw Error(\"Error in fetch request: \" + response.statusText);\r\n    }\r\n    return response;\r\n}","import axios from 'axios';\r\nimport {tokenAndHeaderConfig} from \"./util\"\r\n\r\n// GET message history from DB. Simple way for testing\r\nconst MessageUrl = 'http://localhost:4000/api/chat/message';\r\n\r\nexport const getMessageHistory = async (chatID: number) => {\r\n  let headers = await tokenAndHeaderConfig()\r\n  const response = await axios.get(`${MessageUrl}s/${chatID}`, {headers: headers});\r\n  if (response.status === 200) {\r\n    return response.data;\r\n  } else {\r\n    console.log('Did not get the message history!');\r\n  }\r\n};\r\n\r\nexport const addNewMessage = async (chatID: number, body: object) => {\r\n  let headers = await tokenAndHeaderConfig()\r\n  const response = await axios.post(`${MessageUrl}s/${chatID}`, body, {headers});\r\n  if (response.status === 200) {\r\n    return response.data;\r\n  } else {\r\n    console.log('Did not get the message history!');\r\n  }\r\n};\r\n\r\n// GET chatID by two userIDs\r\nconst ChatUrl = 'http://localhost:4000/api/chat';\r\n\r\nexport const getChatID = async (user1: number, user2: number) => {\r\n  let headers = await tokenAndHeaderConfig()\r\n  const response = await axios.get(`${ChatUrl}/our/${user1}/${user2}`, {headers});\r\n  if (response.status === 200 && response.data.length !== 0) {\r\n    return response.data[0].chat_id;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const getChats = async (userid?: number) => {\r\n  let headers = await tokenAndHeaderConfig()\r\n  const response = await axios.get(`${ChatUrl}/my/${userid}`, {headers});\r\n  if (response.status === 200 && response.data.length !== 0) {\r\n    return response.data;\r\n  } else {\r\n    console.log('Did not find chatID for these users!');\r\n  }\r\n};\r\n\r\nexport const newChat = async (userids: object) => {\r\n  let headers = await tokenAndHeaderConfig()\r\n  const response = await axios.post(`${ChatUrl}/new`, { userids, headers });\r\n  if (response.status === 200 && response.data.length !== 0) {\r\n    return response.data;\r\n  } else {\r\n    console.log('Could not create new chat!');\r\n  }\r\n};\r\n\r\n// Temporary user fetch\r\nconst UsersUrl = 'http://localhost:4000/api/users';\r\n\r\nexport const getUsers = async () => {\r\n  let headers = await tokenAndHeaderConfig()\r\n  const response = await axios.get(`${UsersUrl}`, {headers});\r\n  if (response.status === 200) {\r\n    return response.data;\r\n  } else {\r\n    console.log('Did not find users!');\r\n  }\r\n};\r\n","/*\r\nThis component is for listing all previously opnened chats.\r\n*/\r\nimport \"../chat-window/chat.scss\";\r\nimport React, { useEffect, useState, SyntheticEvent } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { History, LocationState } from \"history\";\r\n\r\nimport { getChats, newChat } from \"../../services/chat\";\r\nimport { User } from \"../../models/types\";\r\nimport history from \"../../history\";\r\nimport icon from \"../../pictures/tradyheadorange.png\";\r\nimport renderIcon from \"../../pictures/renderingChat.gif\";\r\nimport picture from \"../../pictures/tradygradedarkblue.png\";\r\nimport { render } from \"react-dom\";\r\n\r\ninterface Props {\r\n  user: User;\r\n  history: History<LocationState>;\r\n  users: User[];\r\n}\r\n\r\nconst ChatList = (props: Props) => {\r\n  const [chatList, setChatList] = useState<Array<any>>([]);\r\n  const [userList, setUserList] = useState<User[]>([]);\r\n  const [filteredUserList, setFilteredUserList] = useState<User[]>([]);\r\n  const [selectedUser, setSelectedUser] = useState<number>();\r\n  const [renderingYes, setRenderingYes] = useState<boolean>(true);\r\n\r\n  const filterUserList = (myChatList: any[]) => {\r\n    let userArray: any[] = props.users.map(user => ({\r\n      name: user.name,\r\n      id: user.id\r\n    }));\r\n    let targetArray: any[] = myChatList.map(user => ({\r\n      name: user.name,\r\n      id: user.chatid\r\n    }));\r\n\r\n    console.log(userArray)\r\n    console.log(targetArray)\r\n  };\r\n\r\n  const myLists = async () => {\r\n    let myChatList = await getChats(props.user.id);\r\n    await setChatList(myChatList);\r\n    await setUserList(props.users);\r\n    setRenderingYes(false);\r\n    filterUserList(myChatList);\r\n  };\r\n\r\n  useEffect(() => {\r\n    myLists();\r\n  }, [props.user]);\r\n\r\n  const createChat = async () => {\r\n    let newChatID;\r\n    try {\r\n      newChatID = await newChat({\r\n        user1: props.user.id,\r\n        user2: selectedUser\r\n      });\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n    history.push(`/chat/${newChatID.id}/${newChatID.name}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"MyChatWindow\">\r\n      <div className=\"MyChats\">\r\n        <h3>My Chats</h3>\r\n        <div>\r\n          <select\r\n            className=\"select-chat-user\"\r\n            name=\"users\"\r\n            onChange={(e: React.ChangeEvent<HTMLSelectElement>) =>\r\n              setSelectedUser(parseInt(e.target.value))\r\n            }\r\n          >\r\n            <option placeholder=\"Select user...\" value=\"\" color=\"white\">\r\n              Select user...\r\n            </option>\r\n            {userList.map(user => (\r\n              <option key={user.id} value={user.id}>\r\n                {user.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          <button className=\"MyChatButton\" onClick={() => createChat()}>\r\n            Start a new conversation\r\n          </button>\r\n          {renderingYes ? (\r\n            <img src={renderIcon} height=\"50em\" />\r\n          ) : chatList === undefined ? (\r\n            <div className=\"ChatBlock\">\r\n              <div id=\"noChats\">\r\n                <p>\r\n                  First time chatting? <br />\r\n                  <br /> No worries just search for a person and start a new\r\n                  conversation!\r\n                </p>\r\n                <img src={icon} height=\"50em\" />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            chatList.map(chat => (\r\n              <div\r\n              \r\n                key={chat.chatid}\r\n                style={{ textDecoration: \"none\" }}\r\n                onClick={() =>\r\n                  history.push(`/chat/${chat.chatid}/${chat.name}`)\r\n                }\r\n              >\r\n                <div className=\"ChatBlock\">\r\n                  <div id=\"userDiv\">\r\n                    <img src={chat.picture || icon} height=\"20em\" />\r\n                    <b> {chat.name} </b>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"chatEdge\">\r\n        <div className=\"MyChatOutput\">\r\n          <img className=\"trady-image\" src={picture} alt=\"tradygradedarkblue\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  user: state.user,\r\n  users: state.users\r\n});\r\n\r\nexport default connect(mapStateToProps)(ChatList);\r\n","/*\r\nThis component displays previously sent and received chats.\r\n*/\r\nimport React, { useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport { getMessageHistory } from \"../../services/chat\";\r\nimport { ChatMessage } from \"./types\";\r\nimport icon from \"./icon.png\";\r\n\r\ninterface Props {\r\n  chatID: number;\r\n  myUserId: number;\r\n  myPicture: string;\r\n  myName: string;\r\n  newMessage: any;\r\n  typingInfo: any;\r\n}\r\n\r\nconst ChatOutput = (props: Props) => {\r\n  const [messageHistory, setMessageHistory] = useState<ChatMessage[]>([]);\r\n  const [newMessages, setNewMessages] = useState<ChatMessage>(props.newMessage);\r\n  const [typingMessages, setTypingMessages] = useState<ChatMessage>(\r\n    props.typingInfo\r\n  );\r\n  const [chatIDField, setChatIDField] = useState<number>(props.chatID);\r\n  const [userField, setUserField] = useState<string>(props.myName);\r\n\r\n  let position: string = 'left';\r\n\r\n  async function getHistory() {\r\n    const history = await getMessageHistory(props.chatID);\r\n    for (let message of history.messages) {\r\n      setMessageHistory(messageHistory => [\r\n        ...messageHistory,\r\n        {\r\n          chat: history.chatID,\r\n          user: message.username,\r\n          picture: message.picture,\r\n          message: message.message,\r\n          time: message.timestamp\r\n        }\r\n      ]);\r\n      message.username !== userField\r\n        ? (position = \"text-align:left\")\r\n        : (position = \"text-align:right\");\r\n      let element: HTMLElement = document.getElementById(\r\n        \"output\"\r\n      ) as HTMLElement;\r\n      element.innerHTML += `<p style=${position}><img src=${message.picture ||\r\n        icon} height=\"20em\" buffer)/> <b>${message.username}: </b>${\r\n        message.message\r\n      } <i id=\"timeStamp\">${moment(message.time).format(\"h:mm:ss\")}</i></p>`;\r\n      let chatWindow: HTMLElement = document.getElementById(\r\n        \"chatWindow\"\r\n      ) as HTMLElement;\r\n      chatWindow.scrollTop = element.scrollHeight;\r\n    }\r\n  }\r\n\r\n  const addOutput = (message: any) => {};\r\n\r\n  useEffect(() => {\r\n    setMessageHistory([]);\r\n    const element: HTMLElement = document.getElementById(\r\n      \"output\"\r\n    ) as HTMLElement;\r\n    element.innerHTML = \"\";\r\n    setChatIDField(props.chatID);\r\n    setUserField(props.myName);\r\n    getHistory();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setNewMessages(newMessages => props.newMessage);\r\n    addNewRow();\r\n  }, [props.newMessage]);\r\n\r\n  useEffect(() => {\r\n    setTypingMessages(typingMessages => props.typingInfo);\r\n    someoneIsTyping(props.typingInfo);\r\n  }, [props.typingInfo]);\r\n\r\n  const addNewRow = async () => {\r\n    let feedback: HTMLElement = document.getElementById(\r\n      \"feedback\"\r\n    ) as HTMLElement;\r\n    feedback.innerHTML = ''\r\n    let message = await props.newMessage;\r\n    if (message === undefined) {\r\n      console.log(\"fail: no new messages\");\r\n    } else {\r\n      const element: HTMLElement = document.getElementById(\r\n        \"output\"\r\n      ) as HTMLElement;\r\n      message.user !== userField\r\n        ? (position = \"text-align:left\")\r\n        : (position = \"text-align:right\");\r\n\r\n      element.innerHTML += `<p style=${position}><img src=${message.picture ||\r\n        icon} height=\"20em\" buffer)/> <b>${message.user}: </b>${\r\n        message.message\r\n      } <i id=\"timeStamp\">${moment(message.time).format(\"h:mm:ss\")}</i></p>`;\r\n\r\n      const chatWindow: HTMLElement = document.getElementById(\r\n        \"chatWindow\"\r\n      ) as HTMLElement;\r\n      chatWindow.scrollTop = element.scrollHeight;\r\n    }\r\n  };\r\n\r\n  const someoneIsTyping = (typer:string) => {\r\n    let feedback: HTMLElement = document.getElementById(\r\n      \"feedback\"\r\n    ) as HTMLElement;\r\n    if (props.typingInfo !== undefined) {\r\n      feedback.innerHTML = `<p><em>${typer} is typing a message...</em></p>`;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"ChatOutput\">\r\n      <div id=\"chatWindow\">\r\n        <ul id=\"output\"></ul>\r\n        <div id=\"feedback\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatOutput;\r\n","/*\r\nThis component allows the user to write and send chat messages.\r\n*/\r\nimport React, { useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport { ChatMessage } from \"./types\";\r\nimport { addNewMessage } from \"../../services/chat\";\r\n\r\ninterface Props {\r\n  chatID: number;\r\n  myUserId: number;\r\n  myName: string;\r\n  myPicture: string;\r\n  emitMessage: any;\r\n  typingMessage: any;\r\n}\r\n\r\nconst ComposeMessage = (props: Props) => {\r\n  const [messageField, setMessageField] = useState<string>(\"\");\r\n  const [userField, setUserField] = useState<string>(props.myName);\r\n  const [userPicture, setUserPicture] = useState<any>(props.myPicture);\r\n  const [chatID, setChatID] = useState<number>(props.chatID);\r\n\r\n  const timeStamp = new Date();\r\n\r\n  useEffect(() => {\r\n    setChatID(props.chatID);\r\n    setUserField(props.myName);\r\n    setUserPicture(props.myPicture);\r\n  }, [props.chatID]);\r\n\r\n  // Sending an message\r\n  const sendMessage = (e:any) => {\r\n    e.preventDefault()\r\n    if (\r\n      messageField.trim() === '' \r\n    ) { console.log('Cannot send empty message');\r\n    } else {\r\n      props.emitMessage({\r\n        chat: chatID,\r\n        user: userField,\r\n        picture: userPicture,\r\n        message: messageField,\r\n        time: timeStamp\r\n      });\r\n      addNewMessage(props.chatID, {\r\n        user: props.myUserId,\r\n        message: messageField,\r\n        time: timeStamp\r\n      });\r\n      setMessageField(\"\");\r\n    }\r\n  };\r\n\r\n  const typingMessage = (e: any) => {\r\n    setMessageField(e.target.value);\r\n    props.typingMessage(userField, chatID);\r\n  };\r\n\r\n  return (\r\n    <div className=\"ComposeMessage\">\r\n      <form autoComplete=\"off\" onSubmit={sendMessage}>\r\n      <input\r\n        className=\"chatMessage\"\r\n        type=\"text\"\r\n        id=\"message\"\r\n        placeholder=\"Message\"\r\n        value={messageField}\r\n        autoFocus\r\n        onChange={typingMessage}\r\n      ></input>\r\n      <br></br>\r\n      <input className=\"chatSend\" type='submit' value='Send'/>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ComposeMessage;\r\n","/*\r\nThis component displays the participant names and pictures in the chat window.\r\n*/\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { User } from \"../../models/types\";\r\nimport history from \"../../history\";\r\nimport icon from \"../../pictures/tradyheadorange.png\";\r\n\r\ninterface Props {\r\n  otherUserName: string;\r\n  otherUserPicture: string;\r\n}\r\n\r\nconst MyChats = (props: Props) => {\r\n\r\n  return (\r\n    <div className=\"Chats\">\r\n      <h3>MyChats</h3>\r\n      <div>\r\n          <button className=\"MyChatButton\" onClick={() => history.push(`/chat`)}>Go back to chat list</button>\r\n          <p>You are currently chatting with:<i>{props.otherUserName}</i></p>\r\n          <img src={props.otherUserPicture || icon} height=\"100rem\"/>\r\n          <p><b>{props.otherUserName}</b> seems like a good tradyuser!</p>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyChats;\r\n","/*\r\nThis component is the container for all chat functionality: composing and sending messages, reading earlier chats and displaying participants.\r\n*/\r\n\r\nimport \"../chat-window/chat.scss\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ChatOutput from \"../chat-window/ChatOutput\";\r\nimport ComposeMessage from \"../chat-window/ComposeMessage\";\r\nimport { User } from \"../../models/types\";\r\nimport { ChatMessage } from \"../chat-window/types\";\r\nimport MyChats from \"../chat-window/MyChats\";\r\nimport io from \"socket.io-client\";\r\n\r\ninterface Props {\r\n  user: User;\r\n  users: Array<any>;\r\n  match: any;\r\n}\r\n\r\nconst ChatWindow = (props: Props) => {\r\n  const [chatID] = useState<number>(props.match.params.chatid);\r\n  const [messages, setMessages] = useState<ChatMessage>();\r\n  const [typingInfo, setTypingInfo] = useState<string>();\r\n  const [myUserId, setMyUsedID] = useState<any>(props.user.id);\r\n  const [myName, setMyName] = useState<string>(props.user.name);\r\n  const [myPicture, setMyPicture] = useState<any>(props.user.image_url);\r\n  const [otherUserName, setOtherUserName] = useState<any>();\r\n  const [otherUserPicture, setOtherUserPicture] = useState<any>();\r\n  const [socket, setSocket] = useState<any>();\r\n\r\n  useEffect(() => {\r\n    setMyUsedID(props.user.id);\r\n    setMyName(props.user.name);\r\n    setMyPicture(props.user.image_url);\r\n    getOtherChatUser()\r\n    // myChats();\r\n  }, [props.user.id]);\r\n\r\n  useEffect(() => {\r\n    // Open socket connection\r\n    const socket = io(\"http://localhost:9000\");\r\n    setSocket(socket);\r\n\r\n    // socket\r\n    socket\r\n      // Join chat\r\n      .emit(\"joinChat\", myName, chatID)\r\n\r\n      // Receive messages from socket\r\n      .on(\"message\", (message: string) => {\r\n        console.log(message);\r\n      })\r\n\r\n      // Receive chat nmessage\r\n      .on(\"new message\", (message: any) => {\r\n        let newMessage = message;\r\n        if (chatID === newMessage.chat) {\r\n          setMessages(newMessage);\r\n        }\r\n      })\r\n\r\n      .on(\"typing\", async (user: string) => {\r\n        let typer = user;\r\n        setTypingInfo(typer);\r\n      })\r\n\r\n      .on(\"user disconnect\", (offlineMessage: string) => {\r\n        console.log(offlineMessage);\r\n      });\r\n  }, []);\r\n\r\n  const emitMessage = (message: any) => {\r\n    // Emmiting a chat message to server\r\n    if (chatID === message.chat) {\r\n      socket.emit(\"chatMessage\", message);\r\n    }\r\n  };\r\n\r\n  const typingMessage = (username: string, id: number) => {\r\n    socket.emit(\"typing\", myName, chatID);\r\n  };\r\n  \r\n  const getOtherChatUser = () => {\r\n    let other = props.users.find(\r\n      user => user.name === props.match.params.chatuser\r\n    );\r\n    setOtherUserName(other.name);\r\n    setOtherUserPicture(other.picture)\r\n  };\r\n\r\n  return (\r\n    <div className=\"ChatWindow\">\r\n      <MyChats otherUserName={otherUserName} otherUserPicture={otherUserPicture}/>\r\n\r\n      <div className=\"chatEdge\">\r\n      <ChatOutput\r\n        chatID={chatID}\r\n        myUserId={myUserId}\r\n        myName={myName}\r\n        myPicture={myPicture}\r\n        newMessage={messages}\r\n        typingInfo={typingInfo}\r\n      />\r\n      </div>\r\n      <ComposeMessage\r\n        chatID={chatID}\r\n        myUserId={myUserId}\r\n        myName={myName}\r\n        myPicture={myPicture}\r\n        emitMessage={emitMessage}\r\n        typingMessage={typingMessage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\n// export default ChatWindow;\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  user: state.user,\r\n  users: state.users\r\n});\r\n\r\nexport default connect(mapStateToProps)(ChatWindow);\r\n","import React from 'react'\r\n\r\ninterface Props {\r\n    image: string\r\n    title: string\r\n    author: string\r\n}\r\n\r\nconst NewsFeedPost = (props: Props) => {\r\n    return (\r\n        <div className=\"newsfeed-post-container\">\r\n            <div className=\"newsfeed-grid-header\">\r\n                <h4 className=\"newsfeed-header\">{props.title}</h4>\r\n                <span className=\"newsfeed-subtitle\">written by: {props.author}</span>\r\n            </div>\r\n            <div className=\"newsfeed-share\">\r\n                <span className='fa fa-facebook'></span>\r\n                <span className=\"fa fa-twitter\"></span>\r\n                <span className=\"fa fa-google\"></span>\r\n                <span className=\"fa fa-reddit\"></span>\r\n                <span className=\"fa fa-instagram\"></span>\r\n                <span className=\"fa fa-pinterest\"></span>\r\n            </div>\r\n            <article>\r\n                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nam laboriosam maxime, odio rerum qui atque veniam aspernatur iure optio non! Nostrum sed fugiat possimus tenetur similique. Temporibus soluta voluptatibus ratione id molestias! Quis assumenda officia quisquam nesciunt odit, iste, deserunt ut veniam, enim doloribus nisi commodi animi error distinctio debitis.</p>\r\n                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Animi culpa, facere deserunt blanditiis saepe laboriosam quis ducimus voluptate nisi sapiente dicta quibusdam non esse, quam officiis voluptatem officia aliquid fugiat?</p>\r\n                <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Atque itaque tenetur tempora maiores a veritatis nesciunt vel, repellat, unde, assumenda ipsum nostrum voluptatibus dignissimos explicabo. Aperiam excepturi a minima necessitatibus odit sed, dolore quae omnis enim expedita incidunt nobis molestias ex neque. Dicta laboriosam, laudantium ullam blanditiis harum nulla repellat?</p>\r\n            </article>\r\n            <aside>\r\n                \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum neque deleniti totam veritatis ratione suscipit quae minima illo odit quis?\"\r\n            </aside>\r\n            <img src={props.image} alt=\"a beautiful landscape\"></img>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewsFeedPost\r\n","/*\r\nThis component displays the news feed in the dashboard. Users' news feeds are personalized according to their interests.\r\n*/\r\nimport \"./NewsFeed.scss\"\r\nimport React from 'react'\r\nimport NewsFeedPost from './NewsFeedPost'\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\nconst NewsFeed = (props: Props) => {\r\n    return (\r\n        <div className=\"newsfeed-container\">\r\n            <header className=\"newsfeed-header\">\r\n                <h2 className=\"newsfeed-title\">What's new?</h2>\r\n                <div className=\"newsfeed-header-icons\">\r\n                    <span className=\"fa fa-sync-alt\"></span>\r\n                    <span className=\"fa fa-sliders-h\"></span>\r\n                    <span className=\"fa fa-cogs\"></span>\r\n                </div>\r\n            </header>\r\n            <div className=\"newsfeed-content\">\r\n                <NewsFeedPost author=\"Göran Österholm / Druids of Finland\" title=\"\" image=\"https://cdn.pixabay.com/photo/2020/03/30/12/54/triberg-4984171_960_720.jpg\" />\r\n                <NewsFeedPost author=\"Denise Whittaker\" title=\"Of Cherry Blossoms and Exclusive Ales\" image=\"https://cdn.pixabay.com/photo/2020/03/30/15/57/spring-4984628_960_720.jpg\" />\r\n                <NewsFeedPost author=\"Boris Hanson / Recycle:now Magazine\" title=\"Who benefits from recycling, really?\" image=\"https://cdn.pixabay.com/photo/2017/11/19/23/25/forest-2964073_960_720.jpg\"/>\r\n                <NewsFeedPost author=\"Harry Bishop\" title=\"I Wish I had had a Pony When I was a Kid\" image=\"https://cdn.pixabay.com/photo/2020/03/24/11/21/thunder-4963719_960_720.jpg\"/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewsFeed\r\n","/*\r\nThis component makes up the front page of the site. Users who have logged on are redirected here when accessing the root url.\r\n*/\r\nimport './Dashboard.scss';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { StoreState, Item, User } from '../../models/types';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\nimport NewsFeed from '../dashboard/NewsFeed';\r\nimport history from '../../history';\r\n\r\ninterface Props {\r\n  user: User | undefined;\r\n  items: Item[];\r\n}\r\n\r\nconst Dashboard = ({ user, items }: Props) => {\r\n\r\n  const [recentItemsShow, setRecentItemsShow] = useState(false)\r\n\r\n  const handleCollapsible = (): void => {\r\n    setRecentItemsShow(!recentItemsShow)\r\n  }\r\n\r\n  return (\r\n    <div className='dashboard'>\r\n      {user ? (\r\n        <div className='welcome'>{`Welcome, ${user.name}!`}</div>\r\n      ) : (\r\n        <div>How are you here? Who are you?</div>\r\n      )}\r\n      <button \r\n      type=\"button\" \r\n      className=\"dashboard-collapsible-button\"\r\n      onClick={handleCollapsible}\r\n      >Latest 5 items added to the marketplace\r\n      <span className=\"dashboard-click-me\">click me!</span>\r\n      </button>\r\n      <div \r\n      className=\r\n      {recentItemsShow ?\r\n        'latest-items'\r\n        : 'latest-items dashboard-hidden'\r\n      }\r\n      >\r\n        {items\r\n          .sort((a, b) => {\r\n            return (\r\n              new Date(b.item.listedAt).valueOf() -\r\n              new Date(a.item.listedAt).valueOf()\r\n            );\r\n          })\r\n          .map((item, index) => {\r\n            if (index < 5) {\r\n              return (\r\n                <div\r\n                  className='dash-item'\r\n                  key={item.item.id}\r\n                  onClick={e => history.push(`/marketplace/${item.item.id}`)}\r\n                >\r\n                  <p>\r\n                    {item.item.name}/ {item.item.price}€\r\n                  </p>\r\n                  <img\r\n                    className='item-picture'\r\n                    src={item.item.pictureURL}\r\n                    height='100px'\r\n                  />\r\n                  <p>Listed By: {item.seller.name}</p>\r\n                  <p className='dash-date'>\r\n                    {moment(item.item.listedAt).format('DD-MM-YYYY')}\r\n                  </p>\r\n                </div>\r\n              );\r\n            }\r\n          })}\r\n      </div>\r\n      <NewsFeed />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => ({\r\n  items: state.items,\r\n  user: state.user\r\n});\r\n\r\nexport default connect(mapStateToProps)(Dashboard);\r\n","import { GET_ERRORS, CLEAR_ERRORS } from \"../models/constants\";\r\nimport { Error } from \"../models/types\"\r\n\r\n// Return errors\r\nexport const returnErrors = (error: Error) => {\r\n    return {\r\n        type: GET_ERRORS,\r\n        payload: error\r\n    }\r\n}\r\n\r\n// Clear errors\r\nexport const clearErrors = () => {\r\n    return {\r\n        type: CLEAR_ERRORS\r\n    }\r\n}","export const AUTHENTICATE = \"AUTHENTICATE\"\r\nexport type AUTHENTICATE = typeof AUTHENTICATE\r\nexport const UNAUTHENTICATE = \"UNAUTHENTICATE\"\r\nexport type UNAUTHENTICATE = typeof UNAUTHENTICATE\r\nexport const REFRESH_TOKEN = \"REFRESH_TOKEN\"\r\nexport type REFRESH_TOKEN = typeof REFRESH_TOKEN\r\nexport const USER_LOADING = \"USER_LOADING\"\r\nexport type USER_LOADING = typeof USER_LOADING\r\nexport const USER_LOADED = \"USER_LOADED\"\r\nexport type USER_LOADED = typeof USER_LOADED\r\nexport const AUTH_ERROR = \"AUTH_ERROR\"\r\nexport type AUTH_ERROR = typeof AUTH_ERROR\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\"\r\nexport type LOGIN_SUCCESS = typeof LOGIN_SUCCESS\r\nexport const LOGIN_FAIL = \"LOGIN_FAIL\"\r\nexport type LOGIN_FAIL = typeof LOGIN_FAIL\r\nexport const LOGOUT_SUCCESS = \"LOGOUT_SUCCESS\"\r\nexport type LOGOUT_SUCCESS = typeof LOGOUT_SUCCESS\r\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\"\r\nexport type REGISTER_SUCCESS = typeof REGISTER_SUCCESS\r\nexport const REGISTER_FAIL = \"REGISTER_FAIL\"\r\nexport type REGISTER_FAIL = typeof REGISTER_FAIL\r\nexport const GET_ERRORS = \"GET_ERRORS\"\r\nexport type GET_ERRORS = typeof GET_ERRORS\r\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\"\r\nexport type CLEAR_ERRORS = typeof CLEAR_ERRORS","import { ThunkDispatch } from 'redux-thunk';\r\nimport * as constants from '../models/constants';\r\nimport { User } from '../models/types'\r\nimport { returnErrors } from \"./errorActions\"\r\nimport { tokenAndHeaderConfig, handleErrors, utilizeRefreshToken } from '../services/util';\r\n\r\nconst authUrl = \"http://localhost:4000/api/auth\"\r\nconst usersUrl = \"http://localhost:4000/api/users\"\r\n\r\nexport interface IAuthenticate {\r\n    type: constants.AUTHENTICATE;\r\n    payload: User\r\n}\r\nexport interface IUnauthenticate {\r\n    type: constants.UNAUTHENTICATE;\r\n}\r\nexport interface IRefreshToken {\r\n    type: constants.REFRESH_TOKEN\r\n    payload: User\r\n}\r\nexport function authenticate(user: User): IAuthenticate {\r\n    return {\r\n        type: constants.AUTHENTICATE,\r\n        payload: user\r\n    };\r\n}\r\nexport function unauthenticate(): IUnauthenticate {\r\n    return {\r\n        type: constants.UNAUTHENTICATE\r\n    };\r\n}\r\nexport function RefreshToken(user: User): IRefreshToken {\r\n    return {\r\n        type: constants.REFRESH_TOKEN,\r\n        payload: user\r\n    }\r\n}\r\n\r\nexport type AuthenticationAction = IAuthenticate | IUnauthenticate;\r\n\r\nexport function register(data: Object) {\r\n    return async (dispatch: ThunkDispatch<any, {}, any>) => {\r\n\r\n        //set headers including jwt token (if valid)\r\n        const headers: any = await tokenAndHeaderConfig()\r\n        if (headers.error) throw headers.error\r\n\r\n        fetch(usersUrl, {\r\n            method: \"POST\",\r\n            headers: headers,\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(res => {\r\n                return res.json()\r\n            })\r\n            .then(data => {\r\n                handleErrors(data)\r\n                dispatch({\r\n                    type: constants.REGISTER_SUCCESS,\r\n                    payload: data\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch(returnErrors(error))\r\n                dispatch({\r\n                    type: constants.REGISTER_FAIL,\r\n                })\r\n            })\r\n    }\r\n}\r\n\r\nexport function loadUser() {\r\n    return async (dispatch: ThunkDispatch<any, {}, any>) => {\r\n\r\n        const token = localStorage.getItem(\"token\")\r\n        const refreshToken = localStorage.getItem(\"refreshToken\")\r\n        if (!token && !refreshToken) return\r\n        if (refreshToken && !token) await utilizeRefreshToken(refreshToken)\r\n\r\n        dispatch({ type: constants.USER_LOADING })\r\n\r\n        const headers: any = await tokenAndHeaderConfig()\r\n\r\n        fetch(authUrl, {\r\n            headers: headers\r\n        })\r\n            .then(res => {\r\n                handleErrors(res)\r\n                return res.json()\r\n            })\r\n            .then(data => {\r\n                dispatch({\r\n                    type: constants.USER_LOADED,\r\n                    payload: data\r\n                })\r\n            })\r\n            .catch(error => {\r\n                dispatch(returnErrors({ ...error, id: \"AUTH_ERROR\" }))\r\n                dispatch({\r\n                    type: constants.AUTH_ERROR\r\n                })\r\n            })\r\n    }\r\n}\r\n\r\n// TODO error handling\r\nexport function logIn(name: string, password: string) {\r\n    return async (dispatch: ThunkDispatch<AuthenticationAction, {}, any>) => {\r\n        let body = { name: name, password: password }\r\n        await fetch(`${authUrl}/login`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(body)\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if (!data.token) dispatch({type: constants.LOGIN_FAIL})\r\n                if (data.token) {\r\n                    const loggedInUser: User = {\r\n                        id: data.id,\r\n                        name: data.name,\r\n                        email: data.email,\r\n                        password: data.password,\r\n                        token: data.token,\r\n                        refreshToken: data.refreshToken,\r\n                        image_url: data.picture,\r\n                        isAuthenticated: null,\r\n                        isLoading: false\r\n                    }\r\n                    window.localStorage.setItem(\"token\", data.token)\r\n                    window.localStorage.setItem(\"refreshToken\", data.refreshToken)\r\n                    dispatch(authenticate(loggedInUser));\r\n                }\r\n            })\r\n    };\r\n}\r\n\r\nexport function logOut() {\r\n    return async (dispatch: ThunkDispatch<AuthenticationAction, {}, any>) => {\r\n        fetch(\"http://localhost:4000/api/auth/logout\", { method: \"DELETE\" })\r\n        window.localStorage.setItem(\"token\", \"null\");\r\n        window.localStorage.setItem(\"refreshToken\", \"null\")\r\n        dispatch({ type: constants.LOGOUT_SUCCESS });\r\n    };\r\n}\r\n\r\nexport function checkAuthentication() {\r\n    return async (dispatch: ThunkDispatch<AuthenticationAction, {}, any>) => {\r\n        const token = await window.localStorage.getItem('token');\r\n        const body = { refreshToken: window.localStorage.getItem(\"refreshToken\") }\r\n        if (!token) {\r\n            dispatch(unauthenticate())\r\n            return\r\n        }\r\n\r\n        await fetch(`${authUrl}/token`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(body)\r\n        })\r\n            .then(res => res.json())\r\n            .then(user => {\r\n                if (!user.token) dispatch(unauthenticate())\r\n                else {\r\n                    window.localStorage.setItem(\"token\", user.token)\r\n                    dispatch(authenticate(user))\r\n                }\r\n            })\r\n    };\r\n}","/*\r\nThis component allows the user to log in.\r\n*/\r\nimport React, { useState } from 'react'\r\nimport { logIn } from \"../../actions/userActions\"\r\nimport { returnErrors, clearErrors } from \"../../actions/errorActions\"\r\nimport { connect } from 'react-redux'\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport Modal from \"@material-ui/core/Modal\"\r\nimport Backdrop from \"@material-ui/core/Backdrop\"\r\nimport Fade from \"@material-ui/core/Fade\"\r\nimport { StoreState, Error } from '../../models/types'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    modal: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\"\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        outline: 0,\r\n        borderRadius: \"10px\",\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3)\r\n    }\r\n}))\r\n\r\ninterface Props {\r\n    logInConnect: (name: string, password: string) => void\r\n    returnErrorsConnect: (error: Error) => void\r\n    clearErrorsConnect: () => void\r\n    errorState: Error\r\n}\r\n\r\nconst LogIn = ({ logInConnect, returnErrorsConnect, errorState }: Props) => {\r\n\r\n    const classes = useStyles()\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true)\r\n    }\r\n    const handleClose = () => {\r\n        setOpen(false)\r\n        setErrorMessage(\"\")\r\n    }\r\n\r\n    const [open, setOpen] = useState<boolean>(false)\r\n    const [name, setName] = useState<string>(\"\")\r\n    const [password, setPassword] = useState<string>(\"\")\r\n    const [errorMessage, setErrorMessage] = useState(\"\")\r\n\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>): void => {\r\n        e.preventDefault()\r\n        if (!name || !password) setErrorMessage(\"Please fill out the required fields.\")\r\n        else {\r\n            try {\r\n                logInConnect(name, password)\r\n            } catch (error) {\r\n                returnErrorsConnect({...error, id: \"LOGIN_FAIL\"})\r\n            }\r\n        }\r\n    }\r\n\r\n    const onNameChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    const onPasswordChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <button type=\"button\" onClick={handleOpen}>Login</button>\r\n            <Modal id=\"login-modal\"\r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={classes.modal}\r\n                open={open}\r\n                onClose={handleClose}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                    timeout: 500,\r\n                }}\r\n            >\r\n                <Fade in={open}>\r\n                    <div className=\"modal\">\r\n                        <form onSubmit={handleSubmit} autoComplete=\"off\">\r\n                            <h3>Login</h3>\r\n                            <input type=\"text\" placeholder=\"username\" onChange={onNameChange} />\r\n                            <input type=\"password\" placeholder=\"password\" onChange={onPasswordChange} />\r\n                            <button type=\"submit\">log in</button>\r\n                            <p id=\"login-error-response\">{errorMessage}</p>\r\n                        </form>\r\n                    </div>\r\n                </Fade>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state: StoreState) => ({\r\n    errorState: state.error\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n    logInConnect: logIn,\r\n    returnErrorsConnect: returnErrors,\r\n    clearErrorsConnect: clearErrors\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps,\r\n)(LogIn)\r\n","/*\r\nThis component allows a new visitor to create a user account.\r\n*/\r\nimport React, { useState } from 'react'\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport Modal from \"@material-ui/core/Modal\"\r\nimport Backdrop from \"@material-ui/core/Backdrop\"\r\nimport Fade from \"@material-ui/core/Fade\"\r\nimport { StoreState, User, Error } from '../../models/types'\r\nimport { connect } from 'react-redux'\r\nimport { register } from \"../../actions/userActions\"\r\nimport { clearErrors } from '../../actions/errorActions'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    modal: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\"\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        outline: 0,\r\n        borderRadius: \"10px\",\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3)\r\n    }\r\n}))\r\n\r\ninterface Props {\r\n    user: User,\r\n    error: Error,\r\n    register: (data: Object) => void\r\n}\r\n\r\nconst Register = ({ user, error, register, clearErrors }: any) => {\r\n\r\n    const classes = useStyles()\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true)\r\n    }\r\n    const handleClose = () => {\r\n        setName(\"\")\r\n        setPassword(\"\")\r\n        setConfirmPassword(\"\")\r\n        setEmail(\"\")\r\n        setErrorMessage(\"\")\r\n        setOpen(false)\r\n    }\r\n\r\n    const [open, setOpen] = useState<boolean>(false)\r\n    const [name, setName] = useState<string>(\"\")\r\n    const [password, setPassword] = useState<string>(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\")\r\n    const [errorMessage, setErrorMessage] = useState(\"\")\r\n\r\n    const handleRegister = async (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n        const data = {\r\n            name: name,\r\n            password: password,\r\n            email: email\r\n        }\r\n        if (!name || !password || !email || !confirmPassword) setErrorMessage(\"Please fill out all the fields.\")\r\n        else if (password !== confirmPassword || !password || !confirmPassword) setErrorMessage(\"Passwords do not match, please try again.\")\r\n        \r\n        else {\r\n            try {\r\n                await register(data)\r\n                handleClose()\r\n                setErrorMessage(\"\")\r\n            } catch (err) {\r\n                console.log(err)\r\n                console.log(err.message)\r\n                setErrorMessage(err.message)\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n    const onNameChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    const onPasswordChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    const onConfirmPasswordChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n        setConfirmPassword(e.target.value)\r\n    }\r\n\r\n    const onEmailChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\r\n        setEmail(e.target.value)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <button type=\"button\" onClick={handleOpen}>Register</button>\r\n            <Modal id=\"register-modal\"\r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={classes.modal}\r\n                open={open}\r\n                onClose={handleClose}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                    timeout: 500,\r\n                }}\r\n            >\r\n                <Fade in={open}>\r\n                    <div className=\"modal\">\r\n                        <form onSubmit={handleRegister} autoComplete=\"off\">\r\n                            <h3>Register</h3>\r\n                            <input type=\"text\" placeholder=\"username\" onChange={onNameChange} />\r\n                            <input type=\"text\" placeholder=\"email\" onChange={onEmailChange} />\r\n                            <input type=\"password\" placeholder=\"password\" onChange={onPasswordChange} />\r\n                            <input type=\"password\" placeholder=\"confirm password\" onChange={onConfirmPasswordChange} />\r\n                            <button type=\"submit\">register</button>\r\n                            <p id=\"register-error-response\">{errorMessage}</p>\r\n                        </form>\r\n                    </div>\r\n                </Fade>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    register,\r\n    clearErrors\r\n}\r\n\r\nconst mapStateToProps = (state: StoreState) => ({\r\n    user: state.user,\r\n    error: state.error\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Register)\r\n","/*\r\nThis component is displayed when the user first visits the website. Subsequent visits (if user logged in) are redirected to Main. Logged out users are redirected here.\r\n*/\r\nimport React from 'react';\r\nimport LogIn from '../landing/LogIn';\r\nimport Register from '../landing/Register';\r\nimport \"./Landing.scss\"\r\ninterface Props { }\r\n\r\nconst Landing = (props: Props) => {\r\n  return (\r\n    <div className=\"landing-background\">\r\n      <div\r\n        className=\"landing-container\"\r\n      >\r\n        <header>\r\n          <p id=\"slogan\">There's no greater trade than tradygrade</p>\r\n          <p id=\"about\">Tradygrade helps you make use of your unwanted items, make new friends, and save the planet at the same time. Sign up now for free and join our ever-growing community of generally nice people™</p>\r\n          <LogIn />\r\n          <Register />\r\n        </header>\r\n        <div className=\"notice\">\r\n          <h5>Breaking news</h5>\r\n          <p>News is broken. Someone went ahead and broke the news. We at tradygrade cannot believe they've done this. We pledge to get to the bottom of this at our earliest convenience. On behalf of all of Tradygrade, we sincerely apologize for any inconvenience this has caused. Our hearts go out to the news families and loved ones.</p>\r\n          <br />\r\n          <span className=\"signature\"><b>The Tradygrade Crew</b></span>\r\n        </div>\r\n        <h1 id=\"landing-title\">tradygrade</h1>\r\n      </div >\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Landing;\r\n","import React from 'react';\r\nimport { Item } from '../../models/types';\r\nimport moment from 'moment';\r\nimport history from '../../history';\r\nimport { Router } from 'react-router-dom';\r\n\r\ninterface Props {\r\n  item: Item;\r\n}\r\n\r\nconst MarketListItem = ({ item }: Props) => {\r\n  const handlePush = (e: any): void => {\r\n    history.push(`/marketplace/${item.item.id}`);\r\n  };\r\n  return (\r\n    <div className='market-item' onClick={handlePush}>\r\n      <p className='item-name-display'>{item.item.name}</p>\r\n      <p className='item-price-display'> {item.item.price}€</p>\r\n      <div className='market-item-picture-div'>\r\n        <img className='market-item-picture' src={item.item.pictureURL} />\r\n        <div className='market-item-shadow'></div>\r\n      </div>\r\n      <p className='market-item-listedby'>Listed By: {item.seller.name}</p>\r\n      <p className='dash-date'>\r\n        {moment(item.item.listedAt).format('DD-MM-YYYY')}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MarketListItem;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slider from '@material-ui/core/Slider';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: 400\r\n  }\r\n});\r\n\r\nfunction valuetext(value: number) {\r\n  return `${value} €`;\r\n}\r\n\r\ninterface Props {\r\n  onValueChange: any;\r\n}\r\n\r\nexport default function RangeSlider({ onValueChange }: Props) {\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState<number[]>([0, 1000]);\r\n\r\n  const handleChange = (event: any, newValue: number | number[]) => {\r\n    setValue(newValue as number[]);\r\n    onValueChange(value);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography id='range-slider' gutterBottom>\r\n        Price range\r\n      </Typography>\r\n      <Slider\r\n        value={value}\r\n        onChange={handleChange}\r\n        valueLabelDisplay='auto'\r\n        aria-labelledby='range-slider'\r\n        getAriaValueText={valuetext}\r\n        min={0}\r\n        max={500}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","export enum ActionTypes {\r\n  fetchItems = 'FETCH_ITEMS',\r\n  deleteItem = 'DELETE_ITEM',\r\n  createItem = 'CREATE_ITEM',\r\n  updateItem = 'UPDATE_ITEM',\r\n  fetchUsers = 'FETCH_USERS'\r\n}\r\n","import './MarketList.scss';\r\nimport React, { useState, useEffect, SyntheticEvent } from 'react';\r\nimport MarketListItem from './MarketListItem';\r\nimport { Item } from '../../models/types';\r\nimport RangeSlider from './RangeSlider';\r\nimport { Select, InputLabel, MenuItem, TextField } from '@material-ui/core';\r\n\r\ninterface Props {\r\n  items: Item[];\r\n}\r\n\r\nconst MarketList = ({ items }: Props) => {\r\n  const [filteredItems, setFilteredItems] = useState<Array<any>>([]);\r\n  const [category, setCategory] = useState<string>('all');\r\n  const [sortBy, setSortBy] = useState<string>('new');\r\n  const [filterText, setFilterText] = useState<string>('');\r\n  const [sliderValues, setSliderValues] = useState<Array<any>>([0, 1000000]);\r\n  const [showFilter, setShowFilter] = useState<Boolean>(false);\r\n\r\n  const handleCategoryChange = (e: any) => {\r\n    setCategory(e.target.value);\r\n  };\r\n  const handleSortChange = (e: any): void => {\r\n    setSortBy(e.target.value);\r\n    switch (e.target.value) {\r\n      case 'new':\r\n        let sortedArray = filteredItems.sort((a, b) => {\r\n          return (\r\n            new Date(b.item.listedAt).valueOf() -\r\n            new Date(a.item.listedAt).valueOf()\r\n          );\r\n        });\r\n        console.log('sorting by new');\r\n        console.log(sortedArray);\r\n        setFilteredItems(sortedArray);\r\n\r\n        break;\r\n      case 'asc':\r\n        let ascArray = filteredItems.sort((a, b) =>\r\n          a.item.name.toLowerCase().localeCompare(b.item.name.toLowerCase())\r\n        );\r\n        setFilteredItems(ascArray);\r\n        break;\r\n      case 'high':\r\n        let sortByHigh = filteredItems.sort((a, b) => {\r\n          return b.item.price - a.item.price;\r\n        });\r\n        setFilteredItems(sortByHigh);\r\n        break;\r\n      case 'low':\r\n        let sortByLow = filteredItems.sort((a, b) => {\r\n          return a.item.price - b.item.price;\r\n        });\r\n\r\n        setFilteredItems(sortByLow);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleSliderChange = (values: Array<number>): void => {\r\n    setSliderValues(values);\r\n    let filteredByPrice = items.filter(\r\n      (item: Item) =>\r\n        item.item.price > values[0] &&\r\n        item.item.price < values[1] &&\r\n        (item.item.category === category || category === 'all') &&\r\n        item.item.name\r\n          .toLowerCase()\r\n          .trim()\r\n          .includes(filterText.toLowerCase().trim())\r\n    );\r\n    setFilteredItems(filteredByPrice);\r\n  };\r\n\r\n  const handleTextFilterChange = (e: any): void => {\r\n    setFilterText(e.target.value);\r\n    let filteredByWord = items.filter(\r\n      (item: Item) =>\r\n        item.item.name\r\n          .toLowerCase()\r\n          .trim()\r\n          .includes(e.target.value.toLowerCase().trim()) &&\r\n        (item.item.category === category || category === 'all') &&\r\n        item.item.price > sliderValues[0] &&\r\n        item.item.price < sliderValues[1]\r\n    );\r\n    setFilteredItems(filteredByWord);\r\n  };\r\n\r\n  const handleShowFilterChange = (e: any): void => {\r\n    setShowFilter(!showFilter);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setFilteredItems(items);\r\n    setSortBy('new');\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    switch (category) {\r\n      case 'Sports':\r\n        let sportsArray = items.filter(\r\n          (item: Item) => item.item.category === 'Sports'\r\n        );\r\n        setFilteredItems(sportsArray);\r\n        break;\r\n      case 'Electronics':\r\n        let itemArr = items.filter(\r\n          (item: Item) => item.item.category === 'Electronics'\r\n        );\r\n        console.log(itemArr);\r\n        setFilteredItems(itemArr);\r\n        break;\r\n      case 'Vehicles & Accessories':\r\n        let vehicleArray = items.filter(\r\n          (item: Item) => item.item.category === 'Vehicles & Accessories'\r\n        );\r\n        setFilteredItems(vehicleArray);\r\n        break;\r\n      case 'Books, Movies & Music':\r\n        let booksArray = items.filter(\r\n          (item: Item) => item.item.category === 'Books, Movies & Music'\r\n        );\r\n        setFilteredItems(booksArray);\r\n        break;\r\n      case 'Fashion':\r\n        let fashionArray = items.filter(\r\n          (item: Item) => item.item.category === 'Fashion'\r\n        );\r\n        setFilteredItems(fashionArray);\r\n        break;\r\n      case 'Collectibles':\r\n        let collectiblesArray = items.filter(\r\n          (item: Item) => item.item.category === 'Collectibles'\r\n        );\r\n        setFilteredItems(collectiblesArray);\r\n        break;\r\n      case 'Home & Garden':\r\n        let homeArray = items.filter(\r\n          (item: Item) => item.item.category === 'Home & Garden'\r\n        );\r\n        setFilteredItems(homeArray);\r\n        break;\r\n      case 'Health & Beauty':\r\n        let beautyArray = items.filter(\r\n          (item: Item) => item.item.category === 'Health & Beauty'\r\n        );\r\n        setFilteredItems(beautyArray);\r\n        break;\r\n      case 'Other':\r\n        let otherArray = items.filter(\r\n          (item: Item) => item.item.category === 'Other'\r\n        );\r\n        setFilteredItems(otherArray);\r\n        break;\r\n\r\n      default:\r\n        setFilteredItems(items);\r\n        break;\r\n    }\r\n  }, [category]);\r\n\r\n  let showMenu = showFilter ? 'show' : 'hide';\r\n\r\n  return (\r\n    <div className='market-list'>\r\n      <div className={`filter-box ${showMenu}`}>\r\n        <div className='filter-header'>\r\n          <h3>\r\n            <span>Filters</span>\r\n            <i\r\n              className='fas fa-filter'\r\n              style={{ marginLeft: '2px', color: '#f4f4f4' }}\r\n            ></i>\r\n          </h3>\r\n\r\n          <div className='hamburger' onClick={handleShowFilterChange}>\r\n            {!showFilter ? (\r\n              <i className='fas fa-bars'></i>\r\n            ) : (\r\n              <i className='fas fa-times'></i>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className='filter-settings'>\r\n          <div className='filter-group'>\r\n            <label>Filter by input</label>\r\n            <input\r\n              type='text'\r\n              className='input-filter'\r\n              value={filterText}\r\n              onChange={handleTextFilterChange}\r\n            />\r\n          </div>\r\n          <div className='filter-group'>\r\n            <InputLabel id='sort-by' style={{ color: '#f4f4f4' }}>\r\n              Sort by{' '}\r\n            </InputLabel>\r\n            <Select\r\n              value={sortBy}\r\n              id='sort-by'\r\n              onChange={handleSortChange}\r\n              style={{ color: '#f4f4f4' }}\r\n            >\r\n              <MenuItem value='new'>Newly listed</MenuItem>\r\n              <MenuItem value='asc'>Alphabetical</MenuItem>\r\n              <MenuItem value='high'>Highest price</MenuItem>\r\n              <MenuItem value='low'>Lowest price</MenuItem>\r\n            </Select>\r\n          </div>\r\n          <div className='filter-group'>\r\n            <InputLabel id='category' style={{ color: '#f4f4f4' }}>\r\n              Category\r\n            </InputLabel>\r\n            <Select\r\n              value={category}\r\n              id='category'\r\n              onChange={handleCategoryChange}\r\n              style={{ color: '#f4f4f4' }}\r\n            >\r\n              <MenuItem value='all'>All</MenuItem>\r\n              <MenuItem value='Electronics'>Electronics</MenuItem>\r\n              <MenuItem value='Sports'>Sports</MenuItem>\r\n              <MenuItem value='Vehicles & Accessories'>\r\n                Vehicles & Accessories\r\n              </MenuItem>\r\n              <MenuItem value='Fashion'>Fashion</MenuItem>\r\n              <MenuItem value='Books, Movies & Music'>\r\n                Books, Movies & Music\r\n              </MenuItem>\r\n              <MenuItem value='Collectibles'>Collectibles</MenuItem>\r\n              <MenuItem value='Home & Garden'>Home & Garden</MenuItem>\r\n              <MenuItem value='Health & Beauty'>Health & Beauty</MenuItem>\r\n              <MenuItem value='Other'>Others</MenuItem>\r\n            </Select>\r\n          </div>\r\n          <div className='filter-group'>\r\n            <RangeSlider onValueChange={handleSliderChange} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='market-list-items'>\r\n        {filteredItems.map((item: Item) => (\r\n          <MarketListItem key={item.item.id} item={item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MarketList;\r\n","/*\r\nThis component is the main view of the marketplace. \r\n*/\r\nimport './Marketplace.scss';\r\nimport React, { SyntheticEvent } from 'react';\r\nimport { StoreState, Item } from '../../models/types';\r\nimport { connect } from 'react-redux';\r\nimport MarketList from '../marketplace/MarketList';\r\nimport history from '../../history';\r\ninterface Props {\r\n  items: Item[];\r\n}\r\n\r\nconst Marketplace = ({ items }: Props) => {\r\n  const handleNewItemAddition = (e: SyntheticEvent) => {\r\n    history.push('/marketplace/new');\r\n  };\r\n  return (\r\n    <div className='marketplace-container'>\r\n      <button className='lone-button' onClick={handleNewItemAddition}>\r\n        Add a new item to the marketplace\r\n      </button>\r\n      <MarketList items={items} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => ({\r\n  items: state.items\r\n});\r\n\r\nexport default connect(mapStateToProps)(Marketplace);\r\n","// Action creators will be here!\r\n\r\nimport axios from 'axios';\r\nimport { Dispatch } from 'redux';\r\nimport { ActionTypes } from './types';\r\nimport { Item, Item2, User } from '../models/types';\r\nimport { IFetchUserActions } from './users';\r\nimport { tokenAndHeaderConfig } from \"../services/util\"\r\n// import { Authorization } from \"../models/types\"\r\n\r\nexport interface IFetchItemActions {\r\n  type: ActionTypes.fetchItems;\r\n  payload: Item[];\r\n}\r\n\r\nexport interface IDeleteItemActions {\r\n  type: ActionTypes.deleteItem;\r\n  payload: string;\r\n}\r\n\r\nexport interface ICreateItemActions {\r\n  type: ActionTypes.createItem;\r\n  payload: Item2;\r\n}\r\n\r\nexport interface IUpdateItemActions {\r\n  type: ActionTypes.updateItem;\r\n  payload: Item2;\r\n}\r\n\r\nexport type ItemActions =\r\n  | IFetchItemActions\r\n  | IDeleteItemActions\r\n  | ICreateItemActions\r\n  | IUpdateItemActions;\r\n\r\nconst ItemUrl = 'http://localhost:4000/api/marketplace/items';\r\n\r\n/* : ActionCreator<ThunkAction<\r\n  // The type of the last action to be dispatched - will always be promise<T> for async actions\r\n  Promise<void>,\r\n  // The type for the data within the last action\r\n  IItem[],\r\n  // The type of the parameter for the nested function\r\n  null,\r\n  // The type of the last action to be dispatched\r\n  IFetchItemActions\r\n>>\r\n*/\r\n\r\nexport const fetchItems = () => {\r\n  return async (dispatch: Dispatch) => {\r\n    let headers = await tokenAndHeaderConfig()\r\n    const response = await axios.get<Item[]>(ItemUrl, {headers});\r\n\r\n    dispatch<IFetchItemActions>({\r\n      type: ActionTypes.fetchItems,\r\n      payload: response.data\r\n    });\r\n  };\r\n};\r\n\r\nexport const deleteItem = (id: string) => {\r\n  return async (dispatch: Dispatch) => {\r\n    let headers = await tokenAndHeaderConfig()\r\n    const response = await axios.delete(`${ItemUrl}/${id}`, {headers});\r\n    if (response.status === 200) {\r\n      dispatch<IDeleteItemActions>({\r\n        type: ActionTypes.deleteItem,\r\n        payload: id\r\n      });\r\n    } else {\r\n      console.log('Delete not successful!');\r\n    }\r\n  };\r\n};\r\nexport const createItem = (item: Item2) => {\r\n  return async (dispatch: Dispatch) => {\r\n    let headers = await tokenAndHeaderConfig()\r\n    console.log(item);\r\n    const response = await axios.post(ItemUrl, item);\r\n    if (response.status === 201) {\r\n      const item = await axios.get(`${ItemUrl}/${response.data.id}`, {headers});\r\n      dispatch<ICreateItemActions>({\r\n        type: ActionTypes.createItem,\r\n        payload: item.data\r\n      });\r\n    } else {\r\n      console.log('Create not successful!');\r\n    }\r\n  };\r\n};\r\nexport const updateItem = (item: any) => {\r\n  return async (dispatch: Dispatch) => {\r\n    let headers = await tokenAndHeaderConfig()\r\n    const response = await axios.put(`${ItemUrl}/${item.itemId}`, item, {headers});\r\n    if (response.status === 200) {\r\n      const itemData = await axios.get(`${ItemUrl}/${item.itemId}`);\r\n\r\n      if (itemData.status === 200) {\r\n        dispatch<IUpdateItemActions>({\r\n          type: ActionTypes.updateItem,\r\n          payload: itemData.data\r\n        });\r\n      } else {\r\n        console.log('Cannot fetch updated item!');\r\n      }\r\n    } else {\r\n      console.log('Update not successful!');\r\n    }\r\n  };\r\n};\r\n","/*\r\nThis component allows users to post a new item they wish to sell.\r\n*/\r\nimport './NewSalesItem.scss';\r\nimport React, { useState, SyntheticEvent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { StoreState, Item2, User } from '../../models/types';\r\nimport { createItem } from '../../actions/';\r\nimport moment from 'moment';\r\nimport history from '../../history';\r\nimport { TextField, Select, MenuItem, InputLabel } from '@material-ui/core';\r\n\r\ninterface Props {\r\n  // createItem: (item: Item2) => Promise<void>;\r\n  createItem: (item: Item2) => Promise<void>;\r\n  user: any;\r\n}\r\n\r\nconst NewSalesItem = ({ createItem, user }: Props) => {\r\n  const [name, setName] = useState<string>('');\r\n  const [description, setDescription] = useState<string>('');\r\n  const [category, setCategory] = useState<string>('Electronics');\r\n  const [price, setPrice] = useState<string>('');\r\n  const [expiration, setExpiration] = useState<string>(\r\n    moment(new Date()).format('YYYY-MM-DD')\r\n  );\r\n  const [condition, setCondition] = useState<string>('New');\r\n  const [pictureUrl, setPictureUrl] = useState<string>('');\r\n\r\n  //Errors! These values are used for displaying the errors in the UI!\r\n  const [nameError, setNameError] = useState<boolean>(false);\r\n  const [descriptionError, setDescriptionError] = useState<boolean>(false);\r\n  const [dateError, setDateError] = useState<boolean>(false);\r\n  const [priceError, setPriceError] = useState<boolean>(false);\r\n  const [conditionError, setConditionError] = useState<boolean>(false);\r\n\r\n  let today = new Date().valueOf();\r\n  let twoMonthsFromNow = new Date();\r\n  twoMonthsFromNow.setMonth(twoMonthsFromNow.getMonth() + 2);\r\n\r\n  //These values are used to assess the user input validity even before submit, so that we don't have to deal with asynchronicity issues!\r\n\r\n  let initialNameError: boolean = name.length < 2 || name.length > 50;\r\n  let initialDescriptionError: boolean = description.length === 0;\r\n  let initialDateError: boolean =\r\n    new Date(expiration).valueOf() < today ||\r\n    new Date(expiration).valueOf() > twoMonthsFromNow.valueOf();\r\n  let initialPriceError: boolean =\r\n    typeof parseInt(price) !== 'number' ||\r\n    parseInt(price) < 0 ||\r\n    parseInt(price) > 30000;\r\n  let initialConditionError: boolean = condition.length === 0;\r\n\r\n  const handleSubmit = (e: SyntheticEvent) => {\r\n    e.preventDefault();\r\n    //Setting the error messages for the UI:\r\n    setNameError(name.length < 2 || name.length > 50);\r\n    setDescriptionError(description.length === 0);\r\n    setDateError(\r\n      new Date(expiration).valueOf() < today ||\r\n        new Date(expiration).valueOf() > twoMonthsFromNow.valueOf()\r\n    );\r\n    setPriceError(\r\n      typeof parseInt(price) !== 'number' ||\r\n        parseInt(price) < 0 ||\r\n        parseInt(price) > 30000\r\n    );\r\n    setConditionError(condition.length === 0);\r\n\r\n    //Checking if errors found:\r\n\r\n    if (\r\n      initialNameError ||\r\n      initialDescriptionError ||\r\n      initialPriceError ||\r\n      initialDateError ||\r\n      initialConditionError\r\n    ) {\r\n      return;\r\n    } else {\r\n      createItem({\r\n        name,\r\n        description,\r\n        sold: false,\r\n        category,\r\n        sellerId: user.id,\r\n        price: parseFloat(price),\r\n        listedAt: new Date(),\r\n        expires: new Date(expiration),\r\n        condition,\r\n        pictureURL: pictureUrl\r\n      });\r\n      history.push('/home');\r\n    }\r\n  };\r\n\r\n  const handleCategoryChange = (e: any): void => {\r\n    setCategory(e.target.value);\r\n  };\r\n\r\n  const handleConditionChange = (e: any): void => {\r\n    setCondition(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className='new-item'>\r\n      <form className='new-item-form' onSubmit={e => handleSubmit(e)}>\r\n        <h2>Add a new product</h2>\r\n        <div className='input-group-new'>\r\n          <TextField\r\n            id='product-name'\r\n            label='Product Name'\r\n            error={nameError}\r\n            helperText={\r\n              nameError ? 'Name needs to be 2-50 characters long!' : null\r\n            }\r\n            onChange={e => setName(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='input-group-new'>\r\n          <TextField\r\n            id='product-description'\r\n            label='Description'\r\n            error={descriptionError}\r\n            helperText={\r\n              descriptionError ? 'Description cannot be blank!' : null\r\n            }\r\n            onChange={e => setDescription(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='input-group-new'>\r\n          <InputLabel id='category-label'>Category</InputLabel>\r\n          <Select\r\n            value={category}\r\n            labelId='category-label'\r\n            onChange={handleCategoryChange}\r\n          >\r\n            <MenuItem value='Electronics'>Electronics</MenuItem>\r\n            <MenuItem value='Sports'>Sports</MenuItem>\r\n            <MenuItem value='Vehicles & Accessories'>\r\n              Vehicles & Accessories\r\n            </MenuItem>\r\n            <MenuItem value='Fashion'>Fashion</MenuItem>\r\n            <MenuItem value='Books, Movies & Music'>\r\n              Books, Movies & Music\r\n            </MenuItem>\r\n            <MenuItem value='Collectibles'>Collectibles</MenuItem>\r\n            <MenuItem value='Home & Garden'>Home & Garden</MenuItem>\r\n            <MenuItem value='Health & Beauty'>Health & Beauty</MenuItem>\r\n            <MenuItem value='Other'>Other</MenuItem>\r\n          </Select>\r\n        </div>\r\n        <div className='input-group-new'>\r\n          <TextField\r\n            id='product-price'\r\n            label='Price (€)'\r\n            error={priceError}\r\n            helperText={\r\n              priceError ? 'Price must be a number between 0-30000€!' : null\r\n            }\r\n            onChange={e => setPrice(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='input-group-new'>\r\n          <InputLabel>Expiration date</InputLabel>\r\n          <TextField\r\n            type='date'\r\n            error={dateError}\r\n            helperText={\r\n              dateError\r\n                ? 'Date must be a date within the next two months'\r\n                : null\r\n            }\r\n            onChange={e =>\r\n              setExpiration(moment(e.target.value).format('YYYY-MM-DD'))\r\n            }\r\n          />\r\n        </div>\r\n        <div className='input-group-new'>\r\n          <InputLabel id='item-condition'>Condition</InputLabel>\r\n          <Select\r\n            labelId='item-condition'\r\n            value={condition}\r\n            id='condition'\r\n            onChange={handleConditionChange}\r\n            error={conditionError}\r\n          >\r\n            <MenuItem value='New'>New</MenuItem>\r\n            <MenuItem value='Like new'>Like new</MenuItem>\r\n            <MenuItem value='Very good'>Very good</MenuItem>\r\n            <MenuItem value='Good'>Good</MenuItem>\r\n            <MenuItem value='Acceptable'>Acceptable</MenuItem>\r\n            <MenuItem value='Poor'>Poor</MenuItem>\r\n          </Select>\r\n        </div>\r\n        <div className='input-group-new'>\r\n          <TextField\r\n            id='product-picture'\r\n            label='Picture URL'\r\n            onChange={e => setPictureUrl(e.target.value)}\r\n          />\r\n        </div>\r\n        <button className='item-button' type='submit'>\r\n          Submit\r\n        </button>\r\n        <button\r\n          className='item-button'\r\n          onClick={e => {\r\n            e.preventDefault();\r\n            history.push('/marketplace');\r\n          }}\r\n        >\r\n          Go Back\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => ({\r\n  items: state.items,\r\n  user: state.user\r\n});\r\n\r\nexport default connect(mapStateToProps, { createItem })(NewSalesItem);\r\n","/*\r\nThis component is rendered whenever a user tries to access a page that is not implemented.\r\n*/\r\nimport React from 'react'\r\nimport './NotFound.scss'\r\nimport picture from \"../../pictures/tradygradedarkblue.png\";\r\nimport errorpicture from \"../../pictures/error.png\";\r\nimport errorpicture4 from \"../../pictures/error4vol1.png\";\r\nimport errorpicture0 from \"../../pictures/error0.png\";\r\nimport errorpicture4vol2 from \"../../pictures/error4vol2.png\";\r\ninterface Props {\r\n    \r\n}\r\n\r\nconst NotFound = (props: Props) => {\r\n    return (\r\n        <div className=\"error-faces\">\r\n            <img className=\"error-trady\" src={picture} alt=\"tradygradedarkblue\" />\r\n            <img className=\"errormessage-trady\" src={errorpicture} alt=\"ERROR!\" />\r\n            <img className=\"error4-trady\" src={errorpicture4} alt=\"4\" />\r\n            <img className=\"error0-trady\" src={errorpicture0} alt=\"0\" />\r\n            <img className=\"error4vol2-trady\" src={errorpicture4vol2} alt=\"4!\" />\r\n     </div>\r\n    )\r\n}\r\n\r\nexport default NotFound;\r\n","/*\r\nThis component is for giving feedback on users or items. Displayed when a transaction is completed.\r\n*/\r\nimport React from 'react'\r\n\r\ninterface Props {\r\n    \r\n}\r\n\r\nconst Review = (props: Props) => {\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Review\r\n","import axios from 'axios';\r\nimport { tokenAndHeaderConfig } from './util';\r\n\r\nconst apiUrl: string = 'http://localhost:4000/api/users';\r\n\r\nexport const getUser = async (id: number) => {\r\n  try {\r\n    let headers = await tokenAndHeaderConfig();\r\n    let response = await axios.get(`http://localhost:4000/api/users/${id}`, {\r\n      headers\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n};\r\nexport const getUsers = async (id: number) => {\r\n  try {\r\n    let headers = await tokenAndHeaderConfig();\r\n    let response = await axios.get('http://localhost:4000/api/users/', {\r\n      headers\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n};\r\n","/*\r\nThis component is for viewing and buying an existing item. The owner of the item may also edit item details. For posting a new item see component NewSalesItem.\r\n*/\r\n\r\nimport { updateItem, deleteItem } from \"../../actions/\";\r\nimport { TextField, Select, MenuItem, InputLabel } from \"@material-ui/core\";\r\nimport \"./SalesItem.scss\";\r\nimport React, { useState, useEffect, SyntheticEvent } from \"react\";\r\nimport { StoreState, Item, User } from \"../../models/types\";\r\nimport { connect } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport history from \"../../history\";\r\nimport { start } from \"repl\";\r\nimport { usersReducer } from \"../../reducers/users\";\r\nimport { newChat, getChatID } from \"../../services/chat\";\r\nimport { getUser } from \"../../services/users\";\r\nimport Swal from \"sweetalert2\";\r\nimport axios from \"axios\";\r\n\r\ninterface Props {\r\n  match: any;\r\n  items: Item[];\r\n  updateItem: (item: any) => Promise<void>;\r\n  deleteItem: (id: string) => Promise<void>;\r\n  user: User | any;\r\n}\r\n\r\nconst SalesItem = ({ items, match, user, updateItem, deleteItem }: Props) => {\r\n  const [item, setItem] = useState<Item | undefined>();\r\n  const [editing, setEditing] = useState<boolean>(false);\r\n\r\n  // Item details\r\n  const [itemId, setItemId] = useState<string | undefined>();\r\n  const [name, setName] = useState<string | undefined>();\r\n  const [description, setDescription] = useState<string | undefined>();\r\n  const [category, setCategory] = useState<string | undefined>();\r\n  const [price, setPrice] = useState<any>();\r\n  const [listed, setListed] = useState<any>();\r\n  const [expiration, setExpiration] = useState<any>();\r\n  const [condition, setCondition] = useState<string | undefined>();\r\n  const [pictureUrl, setPictureUrl] = useState<string | undefined>();\r\n\r\n  useEffect(() => {\r\n    let matchingItem = items.find(\r\n      (item: Item) => item.item.id == String(match.params.itemid)\r\n    );\r\n    setItem(matchingItem);\r\n    setItemId(matchingItem?.item.id);\r\n    setName(matchingItem?.item.name);\r\n    setDescription(matchingItem?.item.description);\r\n    setCategory(matchingItem?.item.category);\r\n    setPrice(matchingItem?.item.price);\r\n    setListed(matchingItem?.item.listedAt);\r\n    setExpiration(matchingItem?.item.expires);\r\n    setCondition(matchingItem?.item.condition);\r\n    setPictureUrl(matchingItem?.item.pictureURL);\r\n    //eslint-disable-next-line\r\n  }, [match.params.id]);\r\n\r\n  const handleBuy = async (e: SyntheticEvent) => {\r\n    if (item?.seller.id) {\r\n      let response: User | null = await getUser(item?.seller.id);\r\n      if (response) {\r\n        let sellerEmail = response.email;\r\n        console.log(sellerEmail);\r\n        Swal.fire({\r\n          title: \"Are you sure you really want to purchase this product?\",\r\n          text:\r\n            \"Seller will be informed via email with your contact details included\",\r\n          icon: \"info\",\r\n          showCancelButton: true\r\n        }).then(result => {\r\n          if (result.value) {\r\n            (window as any).Email.send({\r\n              Host: process.env.REACT_APP_TRADY_HOST,\r\n              Username: process.env.REACT_APP_TRADY_EMAIL,\r\n              Password: process.env.REACT_APP_TRADY_PASSWORD,\r\n              To: `${sellerEmail}`,\r\n              From: \"tradygrade@gmail.com\",\r\n              Subject: `${user.name} wants to buy ${item?.item.name}!`,\r\n              Body: `Hello, ${item?.seller.name}! <br> <br>\r\n              ${user.name} has told us he/she wants to buy your ${item?.item.name}. <br>\r\n              His/her email is ${user.email}, please contact him as soon as possible! <br> <br>\r\n              Best Regards, <br>\r\n              TradyGrade Team`\r\n            });\r\n            Swal.fire(\r\n              \"Email sent!\",\r\n              \"Seller will get back to you as soon as possible!\",\r\n              \"success\"\r\n            );\r\n          } else {\r\n            Swal.fire(\"Cancelled\", \"No email was sent!\", \"error\");\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleChat = async (e: SyntheticEvent) => {\r\n    if (item && user.id) {\r\n      try {\r\n        let chatExists = await getChatID(user.id, item.seller.id);\r\n        if (!chatExists) {\r\n          let response = await newChat({\r\n            user1: user.id,\r\n            user2: item.seller.id\r\n          });\r\n          history.push(`/chat/${response.id}/${item.seller.name}`);\r\n        } else {\r\n          history.push(`/chat/${chatExists}/${item.seller.name}`);\r\n        }\r\n      } catch (error) {\r\n        alert(\r\n          \"Something went wrong! Please try to start the chat by clicking the Chat-icon from the navigation!\"\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleProfileClick = (e: SyntheticEvent): void => {\r\n    if (item) {\r\n      let userUrlParam = item.seller.name.replace(/\\s/, \"\");\r\n      history.push({\r\n        pathname: `/users/${userUrlParam}`,\r\n        state: { name: item.seller.name }\r\n      });\r\n    }\r\n  };\r\n\r\n  const editItem = () => {\r\n    editing ? setEditing(false) : setEditing(true);\r\n  };\r\n\r\n  const deleteThisItem = (id: string) => {\r\n    deleteItem(id);\r\n    history.push(`/marketplace/`);\r\n  };\r\n\r\n  const goBack = (e: any): void => {\r\n    history.goBack();\r\n  };\r\n\r\n  const handleCategoryChange = (e: any): void => {\r\n    setCategory(e.target.value);\r\n  };\r\n\r\n  const handleConditionChange = (e: any): void => {\r\n    setCondition(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e: SyntheticEvent) => {\r\n    e.preventDefault();\r\n    updateItem({\r\n      itemId,\r\n      name,\r\n      description,\r\n      sold: false,\r\n      category,\r\n      sellerId: user.id,\r\n      price: parseFloat(price),\r\n      listedAt: new Date(listed),\r\n      expires: new Date(expiration),\r\n      condition,\r\n      pictureURL: pictureUrl\r\n    });\r\n    history.push(`/marketplace/`);\r\n  };\r\n\r\n  if (item) {\r\n    return (\r\n      <div className=\"item-item-container\">\r\n        <div className=\"item-info-edit-container\">\r\n          <div className=\"item-content\">\r\n            <div>\r\n              <div className=\"item-text-content\">\r\n                <img className=\"item-picture\" src={item.item.pictureURL} />\r\n                <br/>\r\n                <div className=\"item-price-and-title\">\r\n                <h3 className=\"item-title\">{item.item.name}</h3>\r\n                <h3 className=\"item-price\">{`${item.item.price} €`}</h3>\r\n                </div>\r\n                {item.seller.name !== user.name ? (\r\n                  <div>\r\n                    <div\r\n                      className=\"seller\"\r\n                      onClick={e => handleProfileClick(e)}\r\n                      title=\"Go to user profile\"\r\n                    >\r\n                      {item.seller.name}\r\n                    </div>\r\n                  </div>\r\n                ) : null}\r\n                <div>{item.item.description}</div>\r\n                <p>Condition: {item.item.condition}</p>\r\n                <p>Listed: {moment(item.item.listedAt).format(\"DD-MM-YYYY\")}</p>\r\n                <p>\r\n                  Expiring: {moment(item.item.expires).format(\"DD-MM-YYYY\")}\r\n                </p> \r\n                  \r\n              </div>\r\n              {item.seller.name !== user.name ? (\r\n                <div className=\"sales-item-buttons-for-buyer\">\r\n                  <button className=\"item-button\" onClick={handleBuy}>\r\n                    Buy Item\r\n                  </button>\r\n                  <br />\r\n                  <button className=\"item-button\" onClick={handleChat}>\r\n                    Chat With Seller\r\n                  </button>\r\n                  <br />\r\n                  <button className=\"item-button\" onClick={goBack}>\r\n                    Go Back\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <div className=\"sales-item-buttons-for-seller\">\r\n                  <button className=\"item-button\" onClick={editItem}>\r\n                    Edit\r\n                  </button>\r\n                  <br />\r\n                  <button\r\n                    className=\"item-button\"\r\n                    onClick={() => deleteThisItem(item.item.id)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                  <br />\r\n                  <button className=\"item-button\" onClick={goBack}>\r\n                    Go Back\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"edit-item\">\r\n            {editing ? (\r\n              <div className=\"edit-item-block\">\r\n                <div className=\"edit-item\">\r\n                  <form\r\n                    className=\"edit-item-form\"\r\n                    onSubmit={e => handleSubmit(e)}\r\n                  >\r\n                    <h2>Edit {item.item.name}</h2>\r\n                    <div className=\"input-group-edit\">\r\n                      <TextField\r\n                        value={name}\r\n                        id=\"product-name\"\r\n                        label=\"Product Name\"\r\n                        onChange={e => setName(e.target.value)}\r\n                      />\r\n                    </div>\r\n                    <div className=\"input-group-edit\">\r\n                      <TextField\r\n                        value={description}\r\n                        id=\"product-description\"\r\n                        label=\"Description\"\r\n                        onChange={e => setDescription(e.target.value)}\r\n                      />\r\n                    </div>\r\n                    <div className=\"input-group-edit\">\r\n                      <InputLabel id=\"category-label\">Category</InputLabel>\r\n                      <Select\r\n                        value={category}\r\n                        labelId=\"category-label\"\r\n                        onChange={handleCategoryChange}\r\n                      >\r\n                        <MenuItem value=\"Electronics\">Electronics</MenuItem>\r\n                        <MenuItem value=\"Sports\">Sports</MenuItem>\r\n                        <MenuItem value=\"Vehicles & Accessories\">\r\n                          Vehicles & Accessories\r\n                        </MenuItem>\r\n                        <MenuItem value=\"Fashion\">Fashion</MenuItem>\r\n                        <MenuItem value=\"Books, Movies & Music\">\r\n                          Books, Movies & Music\r\n                        </MenuItem>\r\n                        <MenuItem value=\"Collectibles\">Collectibles</MenuItem>\r\n                        <MenuItem value=\"Home & Garden\">Home & Garden</MenuItem>\r\n                        <MenuItem value=\"Health & Beauty\">\r\n                          Health & Beauty\r\n                        </MenuItem>\r\n                        <MenuItem value=\"Other\">Other</MenuItem>\r\n                      </Select>\r\n                    </div>\r\n                    <div className=\"input-group-edit\">\r\n                      <TextField\r\n                        value={price}\r\n                        id=\"product-price\"\r\n                        label=\"Price (€)\"\r\n                        onChange={e => setPrice(parseInt(e.target.value))}\r\n                      />\r\n                    </div>\r\n                    <div className=\"input-group-edit\">\r\n                      <InputLabel>Expiration date</InputLabel>\r\n                      <TextField\r\n                        value={expiration}\r\n                        type=\"date\"\r\n                        onChange={e =>\r\n                          setExpiration(\r\n                            moment(e.target.value).format(\"YYYY-MM-DD\")\r\n                          )\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div className=\"input-group-edit\">\r\n                      <InputLabel id=\"item-condition\">Condition</InputLabel>\r\n                      <Select\r\n                        labelId=\"item-condition\"\r\n                        value={condition}\r\n                        id=\"condition\"\r\n                        onChange={handleConditionChange}\r\n                      >\r\n                        <MenuItem value=\"New\">New</MenuItem>\r\n                        <MenuItem value=\"Like new\">Like new</MenuItem>\r\n                        <MenuItem value=\"Very good\">Very good</MenuItem>\r\n                        <MenuItem value=\"Good\">Good</MenuItem>\r\n                        <MenuItem value=\"Acceptable\">Acceptable</MenuItem>\r\n                        <MenuItem value=\"Poor\">Poor</MenuItem>\r\n                      </Select>\r\n                    </div>\r\n                    <div className=\"input-group-edit\">\r\n                      <TextField\r\n                        value={pictureUrl}\r\n                        id=\"product-picture\"\r\n                        label=\"Picture URL\"\r\n                        onChange={e => setPictureUrl(e.target.value)}\r\n                      />\r\n                    </div>\r\n                    <button className=\"item-button\" type=\"submit\">\r\n                      Submit\r\n                    </button>\r\n                    <button\r\n                      className=\"item-button\"\r\n                      onClick={e => {\r\n                        e.preventDefault();\r\n                        history.push(\"/marketplace\");\r\n                      }}\r\n                    >\r\n                      Go Back to Market Place\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <p>Loading, please wait...</p>;\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => ({\r\n  items: state.items,\r\n  user: state.user\r\n});\r\n\r\nexport default connect(mapStateToProps, { updateItem, deleteItem })(SalesItem);\r\n","import React, { SyntheticEvent } from 'react';\r\nimport history from '../../history';\r\nimport { User } from '../../models/types';\r\nimport '../views/SearchResults.scss';\r\nimport { getChatID, newChat } from '../../services/chat';\r\n\r\ninterface Props {\r\n  user: User;\r\n}\r\n\r\nconst UserComponent = ({ user }: Props) => {\r\n  const handleChat = async (e: SyntheticEvent) => {\r\n    console.log(\r\n      \"We didn't have time to implement this feature. It will be here soon!\"\r\n    );\r\n  };\r\n  const handleProfileClick = (e: SyntheticEvent): void => {\r\n    history.push({\r\n      pathname: `/users/${user.name}`\r\n    });\r\n  };\r\n  return (\r\n    <div id='user-list-item' key={user.id}>\r\n      <span>{user.name}</span>\r\n      <button className='result-button' onClick={handleChat}>\r\n        Chat\r\n      </button>\r\n      <button className='result-button' onClick={e => handleProfileClick(e)}>\r\n        View Profile\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserComponent;\r\n","import '../views/SearchResults.scss';\r\nimport React from 'react';\r\nimport { User } from '../../models/types';\r\nimport history from '../../history';\r\nimport UserComponent from './UserComponent';\r\n\r\ninterface Props {\r\n  users: User[];\r\n}\r\n\r\nconst UsersList = ({ users }: Props) => {\r\n  return (\r\n    <div className=\"users-search-list\">\r\n      <h3>Matching users</h3>\r\n      {users.map((user: User) => (\r\n        <UserComponent user={user} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersList;\r\n","import React from 'react';\r\nimport { Item } from '../../models/types';\r\nimport history from '../../history';\r\n\r\ninterface Props {\r\n  item: Item;\r\n}\r\n\r\nconst ItemComponent = ({ item }: Props) => {\r\n  const goToItem = (e: any): void => {\r\n    history.push(`/marketplace/${item.item.id}`);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <div className='product-list-item'>\r\n        <div>{item.item.name}</div>\r\n        <button className='result-button' onClick={e => goToItem(e)}>\r\n          View Item\r\n        </button>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ItemComponent;\r\n","import React from 'react';\r\nimport { Item } from '../../models/types';\r\nimport { Router } from 'react-router-dom';\r\nimport ItemComponent from './ItemComponent';\r\n\r\ninterface Props {\r\n  items: Item[];\r\n}\r\n\r\nconst ItemsList = ({ items }: Props) => {\r\n  return (\r\n    <div className=\"items-search-list\">\r\n      <h3>Matching products</h3>\r\n      {items.map((item: Item) => (\r\n        <ItemComponent key={item.item.id} item={item} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemsList;\r\n","/*\r\nThis component displays paginated results of a search. \r\n*/\r\nimport './SearchResults.scss';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { StoreState, Item } from '../../models/types';\r\nimport { connect } from 'react-redux';\r\nimport UsersList from '../search-results/UsersList';\r\nimport ItemsList from '../search-results/ItemsList';\r\n\r\ninterface Props {\r\n  location: any;\r\n  items: Item[];\r\n}\r\n\r\nconst SearchResults = ({ location }: Props) => {\r\n  const [showProductsOnly, setShowProductsOnly] = useState<Boolean>(false);\r\n  const [showUsersOnly, setshowUsersOnly] = useState<Boolean>(false);\r\n\r\n  useEffect(() => {\r\n    setShowProductsOnly(false);\r\n    setshowUsersOnly(false);\r\n  }, [location.state.filteredItems, location.state.filteredUsers]);\r\n\r\n  const handleFilter = (e: any) => {\r\n    if (e.target.innerText === 'Products') {\r\n      setShowProductsOnly(true);\r\n      setshowUsersOnly(false);\r\n    } else {\r\n      setShowProductsOnly(false);\r\n      setshowUsersOnly(true);\r\n    }\r\n  };\r\n  return (\r\n    <div className='result-container'>\r\n      <span>Show me only:</span>\r\n      <button className='filter-button' onClick={e => handleFilter(e)}>\r\n        Products\r\n      </button>\r\n      <button className='filter-button' onClick={e => handleFilter(e)}>\r\n        Users\r\n      </button>\r\n      <div className=\"users-and-items\">\r\n      {showProductsOnly && <ItemsList items={location.state.filteredItems} />}\r\n      {showUsersOnly && <UsersList users={location.state.filteredUsers} />}\r\n      {!showUsersOnly && !showProductsOnly && (\r\n        <React.Fragment>\r\n          <ItemsList items={location.state.filteredItems} />\r\n          <UsersList users={location.state.filteredUsers} />\r\n        </React.Fragment>\r\n      )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => ({\r\n  items: state.items\r\n});\r\n\r\nexport default connect(mapStateToProps)(SearchResults);\r\n","/*\r\nThis component is the navigation bar.\r\n*/\r\n\r\nimport './Navigation.scss';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { StoreState, User } from '../models/types';\r\nimport { logOut } from '../actions/userActions';\r\nimport logo from '../pictures/tradyheadorange.png';\r\n\r\ninterface Props {\r\n  user: User;\r\n  logOutConnect: (logOutUser: User | null) => void;\r\n}\r\n\r\nconst Navigation = ({ user, logOutConnect }: any) => {\r\n  return (\r\n    <div className='nav'>\r\n      <ul className='main-navigation'>\r\n        <li className='app-list-item'>\r\n          <img src={logo} className='App-logo' alt='logo' height='40px' />\r\n        </li>\r\n        <li>\r\n          <NavLink to='/home' style={{ textDecoration: 'none' }}>\r\n            <div className='nav-item'>\r\n              <i className='fas fa-home'></i>\r\n              <span className='nav-text'>Home</span>\r\n            </div>\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to='/marketplace' style={{ textDecoration: 'none' }}>\r\n            <div className='nav-item'>\r\n              <i className='fas fa-shopping-cart'></i>\r\n              <span className='nav-text'>Market</span>\r\n            </div>\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to='/chat' style={{ textDecoration: 'none' }}>\r\n            <div className='nav-item'>\r\n              <i className='fas fa-comments'></i>\r\n              <span className='nav-text'>Chat</span>\r\n            </div>\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n      <ul className='account-navigation'>\r\n        <li>\r\n          <NavLink to='/account' style={{ textDecoration: 'none' }}>\r\n            <div className='nav-item'>\r\n              <i className='fas fa-user-circle'></i>\r\n              <span className='nav-text'>My profile</span>\r\n            </div>\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink\r\n            onClick={() => logOutConnect(user)}\r\n            to='/'\r\n            style={{ textDecoration: 'none' }}\r\n          >\r\n            <div className='nav-item'>\r\n              <i className='fas fa-sign-out-alt'></i>\r\n              <span className='nav-text'>Log Out</span>\r\n            </div>\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => ({\r\n  user: state.user\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  logOutConnect: logOut\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navigation);\r\n","/*\r\nThis component enables the user to search for sales items. When the search is run, the user is redirected to the Search Results view.\r\n*/\r\nimport './Search.scss';\r\nimport React, { useState, FormEvent, ChangeEvent } from 'react';\r\nimport { History, LocationState } from 'history';\r\nimport { User, StoreState, Item } from '../../models/types';\r\nimport { connect } from 'react-redux';\r\n\r\ninterface Props {\r\n  history: History<LocationState>;\r\n  users: User[];\r\n  items: Item[];\r\n}\r\n\r\nconst Search = ({ history, users, items }: Props) => {\r\n  const [searchText, setSearchText] = useState<string>('');\r\n  const [filteredUsers, setFilteredUsers] = useState<Array<any>>([]);\r\n  const [filteredItems, setFilteredItems] = useState<Array<any>>([]);\r\n\r\n  const handleSearch = (e: FormEvent<HTMLFormElement>): void => {\r\n    e.preventDefault();\r\n    setSearchText('');\r\n    history.push({\r\n      pathname: '/marketplace/search',\r\n      state: { filteredUsers, filteredItems }\r\n    });\r\n  };\r\n\r\n  const handleSearchChange = (e: ChangeEvent<HTMLInputElement>): void => {\r\n    setSearchText(e.target.value);\r\n    let matchingUsers: User[] = users.filter((user: User) => {\r\n      if (\r\n        user.name\r\n          .toLowerCase()\r\n          .trim()\r\n          .includes(searchText.toLowerCase().trim())\r\n      ) {\r\n        return user;\r\n      }\r\n    });\r\n    let matchingItems: Item[] = items.filter((item: Item) => {\r\n      if (\r\n        item.item.name\r\n          .toLowerCase()\r\n          .trim()\r\n          .includes(searchText.toLowerCase().trim())\r\n      ) {\r\n        return item;\r\n      }\r\n    });\r\n    setFilteredUsers(matchingUsers);\r\n    setFilteredItems(matchingItems);\r\n  };\r\n  return (\r\n    <div className='search-container'>\r\n      <form onSubmit={e => handleSearch(e)}>\r\n        <input\r\n          type='text'\r\n          name='searchbar'\r\n          id='searchbar'\r\n          placeholder='Search for items or users...'\r\n          className='searchbar'\r\n          value={searchText}\r\n          onChange={e => handleSearchChange(e)}\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => ({\r\n  users: state.users,\r\n  items: state.items\r\n});\r\n\r\nexport default connect(mapStateToProps)(Search);\r\n","import * as React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Navigation from './Navigation';\r\nimport { StoreState, User } from '../models/types';\r\nimport Search from './dashboard/Search';\r\nimport SearchResults from './views/SearchResults';\r\n\r\ninterface Props {\r\n  exact?: boolean;\r\n  user: User;\r\n  path: string;\r\n  component: React.ComponentType<any>;\r\n}\r\n\r\nconst LoggedInRoute = ({ component: Component, user, ...otherProps }: any) => {\r\n\r\n  return (\r\n    <>\r\n      <Route\r\n        {...otherProps}\r\n        render={otherProps => (\r\n          // check for auth status and redirect accordingly\r\n          user.isAuthenticated ?\r\n          <>\r\n            <Navigation />\r\n            <Search {...otherProps} />\r\n            <Component {...otherProps} />\r\n          </>\r\n          : <Redirect to=\"/\" />\r\n        )}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => ({\r\n  user: state.user\r\n});\r\n\r\nexport default connect(mapStateToProps)(LoggedInRoute);\r\n","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { User, StoreState } from '../models/types';\r\n\r\ninterface Props {\r\n  exact?: boolean;\r\n  user: User\r\n  path: string;\r\n  component: React.ComponentType<any>;\r\n}\r\n\r\nconst LoggedOutRoute = ({\r\n  component: Component,\r\n  user,\r\n  ...otherProps\r\n}: any) => {\r\n\r\n  return (\r\n    user.isAuthenticated ?\r\n    <Redirect to=\"/home\" />\r\n    :\r\n    <>\r\n      <Route\r\n        render={otherProps => (\r\n          <>\r\n            <Component {...otherProps} />\r\n          </>\r\n        )}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => ({\r\n  user: state.user\r\n});\r\n\r\nexport default connect(mapStateToProps)(LoggedOutRoute);\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { StoreState, Item } from '../models/types';\r\nimport { deleteItem, updateItem, createItem } from '../actions/index';\r\nimport moment from 'moment';\r\n\r\ninterface Props {\r\n  deleteItem: (id: string) => Promise<void>;\r\n  updateItem: any;\r\n  createItem: any;\r\n  items: Item[];\r\n}\r\n\r\nconst ItemPlayground = ({\r\n  items,\r\n  deleteItem,\r\n  updateItem,\r\n  createItem\r\n}: Props) => {\r\n  const [name, setName] = useState<string>('');\r\n  const [description, setDescription] = useState<string>('');\r\n  const [sellerId, setSellerId] = useState<string | number>(0);\r\n  const [category, setCategory] = useState<string>('');\r\n  const [price, setPrice] = useState<number | string>(0);\r\n  const [expiration, setExpiration] = useState<string>(\r\n    moment(new Date()).format('YYYY-MM-DD')\r\n  );\r\n  const [condition, setCondition] = useState<string>('');\r\n  const [pictureUrl, setPictureUrl] = useState<string>('');\r\n\r\n  const handleSubmit = (e: any) => {\r\n    e.preventDefault();\r\n    createItem({\r\n      name,\r\n      description,\r\n      sold: false,\r\n      sellerId,\r\n      category,\r\n      price,\r\n      listedAt: new Date(),\r\n      expires: new Date(expiration),\r\n      condition,\r\n      pictureURL: pictureUrl\r\n    });\r\n  };\r\n  return (\r\n    <div>\r\n      <form onSubmit={e => handleSubmit(e)}>\r\n        <input\r\n          type='number'\r\n          placeholder='Seller id'\r\n          onChange={e => setSellerId(e.target.value)}\r\n        />\r\n        <br />\r\n        <input\r\n          type='text'\r\n          placeholder='Enter product name'\r\n          onChange={e => setName(e.target.value)}\r\n        />\r\n        <br />\r\n        <input\r\n          type='text'\r\n          placeholder='Enter description'\r\n          onChange={e => setDescription(e.target.value)}\r\n        />\r\n        <br />\r\n        <input\r\n          type='text'\r\n          placeholder='Enter category'\r\n          onChange={e => setCategory(e.target.value)}\r\n        />\r\n        <br />\r\n        <input\r\n          type='number'\r\n          placeholder='Enter price'\r\n          onChange={e => setPrice(e.target.value)}\r\n        />\r\n        <br />\r\n        Enter expiration date: <br />\r\n        <input\r\n          type='date'\r\n          onChange={e =>\r\n            setExpiration(moment(e.target.value).format('YYYY-MM-DD'))\r\n          }\r\n        />\r\n        <br />\r\n        Condition: <br />\r\n        <select\r\n          name='condition'\r\n          id='condition'\r\n          onChange={e => setCondition(e.target.value)}\r\n        >\r\n          <option value='New'>New</option>\r\n          <option value='Very good'>Very good</option>\r\n          <option value='Poor'>Poor</option>\r\n        </select>{' '}\r\n        <br />\r\n        <input\r\n          type='text'\r\n          placeholder='Enter picture URL'\r\n          onChange={e => setPictureUrl(e.target.value)}\r\n        />\r\n        <br />\r\n        <button type='submit'>Add to DB</button>\r\n      </form>\r\n      <ul>\r\n        {items.map(item => (\r\n          <li key={item.item.id}>\r\n            {item.item.name}\r\n            <button onClick={() => deleteItem(item.item.id)}>X</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  deleteItem,\r\n  updateItem,\r\n  createItem\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => ({\r\n  items: state.items\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ItemPlayground);\r\n","/*\r\nThis component displays the profile of the user\r\n*/\r\nimport React, { useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport { StoreState, User, Item } from \"../../models/types\";\r\nimport { History, LocationState } from \"history\";\r\nimport history from \"../../history\";\r\nimport { connect } from \"react-redux\";\r\nimport icon from \"../../pictures/tradyheadorange.png\";\r\nimport \"./AccountManagement.scss\";\r\n\r\ninterface Props {\r\n  location: any;\r\n  users: User[];\r\n  items: Item[];\r\n  history: History<LocationState>;\r\n  match: any;\r\n}\r\n\r\nconst UserProfile = ({ users, items, location, history, match }: Props) => {\r\n  const [myItems, setMyItems] = useState<Array<any>>([]);\r\n  const [user, setUser] = useState<User | undefined>();\r\n\r\n  useEffect(() => {\r\n    let currentUser = users.find(user => user.name === match.params.name);\r\n    setUser(currentUser);\r\n    getMyStuff();\r\n  }, []);\r\n\r\n  const getMyStuff = () => {\r\n    items.map((item: Item) =>\r\n      item.seller.name === match.params.name\r\n        ? setMyItems(myItems => [...myItems, item])\r\n        : null\r\n    );\r\n  };\r\n\r\n  const goBack = (e: any): void => {\r\n    history.goBack();\r\n  };\r\n  if (user) {\r\n    return (\r\n      <div className=\"my-account\">\r\n        <div className=\"account-management-container\">\r\n          <div className=\"account-management-user-picture\">\r\n            <img src={user.image_url || icon} alt={user.name} />\r\n          </div>\r\n          <div className=\"account-management-user-info\">\r\n            <div id=\"div1\">username:</div>\r\n            <div id=\"div2\">\r\n              <h3>{user.name}</h3>\r\n            </div>\r\n            <br />\r\n            <div id=\"div1\">email:</div>\r\n            <div id=\"div2\">\r\n              <p>{user.email}</p>\r\n            </div>\r\n            <br />\r\n          </div>\r\n        </div>\r\n        <div className=\"item-management-container\">\r\n          <button className=\"go-back-button\" onClick={goBack}>Go back</button>\r\n          <h1>{user.name}'s stuff</h1>\r\n          <div className=\"my-item-list\">\r\n            {myItems.map(item => (\r\n              <div\r\n                className=\"my-item\"\r\n                key={item.item.id}\r\n                onClick={() => history.push(`/marketplace/${item.item.id}`)}\r\n              >\r\n                <p>\r\n                  {item.item.name} / {item.item.price}€\r\n                </p>\r\n                <img\r\n                  className=\"my-item-picture\"\r\n                  src={item.item.pictureURL}\r\n                  height=\"100px\"\r\n                />\r\n                <p>Listed By: {item.seller.name}</p>\r\n                <p className=\"dash-date\">\r\n                  {moment(item.item.listedAt).format(\"DD-MM-YYYY\")}\r\n                </p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <p>Loading details, please wait...</p>;\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => ({\r\n  user: state.user,\r\n  users: state.users,\r\n  items: state.items\r\n});\r\n\r\nexport default connect(mapStateToProps)(UserProfile);\r\n","import * as React from 'react';\r\n// import { connect } from \"react-redux\"\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport About from './views/About';\r\nimport AccountManagement from './views/AccountManagement';\r\nimport ChatList from './views/ChatList';\r\nimport ChatWindow from './views/ChatWindow';\r\nimport Dashboard from './views/Dashboard';\r\nimport Landing from './views/Landing';\r\nimport Marketplace from './views/Marketplace';\r\nimport NewSalesItem from './views/NewSalesItem';\r\nimport NotFound from './views/NotFound';\r\nimport Review from './views/Review';\r\nimport SalesItem from './views/SalesItem';\r\nimport SearchResults from './views/SearchResults';\r\nimport LoggedInRoute from './LoggedInRoute';\r\nimport LoggedOutRoute from './LoggedOutRoute';\r\nimport ItemPlayground from './ItemPlayground';\r\nimport UserProfile from './views/UserProfile';\r\n\r\nconst Pages = () => {\r\n  return (\r\n    <>\r\n      {/* logged out routes */}\r\n      {/* <Switch>\r\n        <LoggedOutRoute path='/' exact={true} component={Landing} />\r\n        <LoggedOutRoute path='/about' exact={true} component={About} />\r\n      </Switch> */}\r\n      {/* logged in routes */}\r\n      <Switch>\r\n      <LoggedOutRoute path='/' exact={true} component={Landing} />\r\n        <LoggedOutRoute path='/about' exact={true} component={About} />\r\n        \r\n        <LoggedInRoute path='/home' exact={true} component={Dashboard} />\r\n        <LoggedInRoute\r\n          path='/account'\r\n          exact={true}\r\n          component={AccountManagement}\r\n        />\r\n        <Route path='/404' exact={true} component={NotFound} />\r\n        <LoggedInRoute path='/chat' exact={true} component={ChatList} />\r\n        <LoggedInRoute path='/chat/:chatid/:chatuser' exact={true} component={ChatWindow} />\r\n        <LoggedInRoute\r\n          path='/marketplace/search'\r\n          exact={true}\r\n          component={SearchResults}\r\n        />\r\n        <LoggedInRoute path='/marketplace' exact={true} component={Marketplace} />\r\n        <LoggedInRoute\r\n          path='/marketplace/new'\r\n          exact={true}\r\n          component={NewSalesItem}\r\n        />\r\n        <LoggedInRoute\r\n          path='/marketplace/:itemid'\r\n          exact={true}\r\n          component={SalesItem}\r\n        />\r\n        <LoggedInRoute\r\n          path='/marketplace/:itemid/review'\r\n          exact={true}\r\n          component={Review}\r\n        />\r\n        <LoggedInRoute path='/users/:name' exact={true} component={UserProfile} />\r\n        <Route exact path='/itemplayground' component={ItemPlayground} />\r\n        <Route path='*' component={NotFound} />\r\n      </Switch>\r\n      {/* generic routes */}\r\n     \r\n    </>\r\n  );\r\n};\r\n\r\nexport default Pages;\r\n","import React, { useEffect } from 'react';\r\nimport './App.scss';\r\nimport { connect } from 'react-redux';\r\nimport { Router, Route } from 'react-router-dom';\r\nimport Pages from './components/Pages';\r\nimport history from './history';\r\nimport { fetchItems } from './actions';\r\nimport { fetchUsers } from './actions/users';\r\nimport { checkAuthentication, loadUser } from './actions/userActions';\r\nimport { StoreState, Item, User } from './models/types';\r\n\r\ninterface IProps {\r\n  checkAuthenticationConnect: () => void;\r\n  fetchUsers: () => void;\r\n  items: Item[];\r\n  user: User;\r\n}\r\n\r\nconst App = ({\r\n  checkAuthenticationConnect,\r\n  fetchItems,\r\n  fetchUsers,\r\n  loadUser,\r\n  items,\r\n  user\r\n}: any) => {\r\n\r\n  useEffect(() => {\r\n    // checkAuthenticationConnect();\r\n    loadUser()\r\n    fetchItems();\r\n    fetchUsers();\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <div className='App'>\r\n      <Router history={history}>\r\n        <Route component={Pages} />\r\n      </Router>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  checkAuthenticationConnect: checkAuthentication,\r\n  loadUser,\r\n  fetchItems,\r\n  fetchUsers\r\n};\r\n\r\nconst mapStateToProps = (state: StoreState) => ({\r\n  items: state.items,\r\n  user: state.user,\r\n  users: state.users\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","// Action creators will be here!\r\n\r\nimport axios from 'axios';\r\nimport { Dispatch } from 'redux';\r\nimport { ActionTypes } from './types';\r\nimport { User } from '../models/types';\r\nimport { tokenAndHeaderConfig } from \"../services/util\"\r\n// import { Authorization } from \"../models/types\"\r\n\r\nexport interface IFetchUserActions {\r\n  type: ActionTypes.fetchUsers;\r\n  payload: User[];\r\n}\r\n\r\nexport type UsersActions = IFetchUserActions;\r\n\r\nconst usersUrl = 'http://localhost:4000/api/users';\r\n\r\nexport const fetchUsers = () => {\r\n  return async (dispatch: Dispatch) => {\r\n    let headers = await tokenAndHeaderConfig()\r\n    console.log(headers)\r\n    const response = await axios.get<User[]>(usersUrl, {headers});\r\n\r\n    dispatch<IFetchUserActions>({\r\n      type: ActionTypes.fetchUsers,\r\n      payload: response.data\r\n    });\r\n  };\r\n};\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import { User } from '../models/types';\r\nimport { ActionTypes } from '../actions/types';\r\nimport { UsersActions } from '../actions/users';\r\n\r\nexport const usersReducer = (state: User[] = [], action: UsersActions) => {\r\n  switch (action.type) {\r\n    case ActionTypes.fetchUsers:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { itemsReducer } from './items';\r\nimport { userReducer } from './user';\r\nimport { errorReducer } from \"./error\"\r\nimport { StoreState } from '../models/types';\r\nimport { usersReducer } from './users';\r\n\r\nexport const rootReducer = combineReducers<StoreState>({\r\n  items: itemsReducer,\r\n  user: userReducer,\r\n  error: errorReducer,\r\n  users: usersReducer\r\n});\r\n","// import { IFetchItemActions } from '../actions';\r\nimport { Item } from '../models/types';\r\nimport { ActionTypes } from '../actions/types';\r\nimport { ItemActions } from '../actions';\r\n\r\n// Korjaa any, kun ehdit!\r\n\r\nexport const itemsReducer = (state: Item[] = [], action: any) => {\r\n  switch (action.type) {\r\n    case ActionTypes.fetchItems:\r\n      return action.payload;\r\n    case ActionTypes.createItem:\r\n      return [action.payload, ...state];\r\n    case ActionTypes.deleteItem:\r\n      return state.filter(item => item.item.id !== action.payload);\r\n    case ActionTypes.updateItem:\r\n      return state.map(item =>\r\n        item.item.id === action.payload.item.id ? action.payload : item\r\n      );\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { IAuthenticate, IUnauthenticate, IRefreshToken } from \"../actions/userActions\"\r\nimport { AUTHENTICATE, UNAUTHENTICATE, REFRESH_TOKEN, USER_LOADING, USER_LOADED, LOGIN_SUCCESS, REGISTER_SUCCESS, AUTH_ERROR, LOGIN_FAIL, LOGOUT_SUCCESS, REGISTER_FAIL } from \"../models/constants\"\r\nimport { User } from \"../models/types\"\r\n\r\nexport function userReducer(\r\n    initialState: User = {\r\n        name: \"\",\r\n        email: null,\r\n        password: null,\r\n        token: localStorage.getItem(\"token\"),\r\n        refreshToken: localStorage.getItem(\"refreshToken\"),\r\n        image_url: null,\r\n        isAuthenticated: null,\r\n        isLoading: false\r\n    },\r\n    action: IAuthenticate | IUnauthenticate | IRefreshToken | any,\r\n): User {\r\n    switch (action.type) {\r\n        case REFRESH_TOKEN:\r\n            return {\r\n                ...action.payload\r\n            }\r\n        case USER_LOADING:\r\n            return {\r\n                ...initialState,\r\n                isLoading: true\r\n            }\r\n        case AUTHENTICATE:\r\n        case LOGIN_SUCCESS:\r\n            localStorage.setItem(\"token\", action.payload.token)\r\n            localStorage.setItem(\"refreshToken\", action.payload.refreshToken)\r\n            return {\r\n                id: action.payload.id,\r\n                name: action.payload.name,\r\n                email: action.payload.email,\r\n                token: action.payload.token,\r\n                refreshToken: action.payload.refreshToken,\r\n                password: action.payload.password,\r\n                image_url: action.payload.picture,\r\n                isAuthenticated: true,\r\n                isLoading: false\r\n            }\r\n        case USER_LOADED:\r\n            return {\r\n                id: action.payload.id,\r\n                name: action.payload.name,\r\n                email: action.payload.email,\r\n                token: localStorage.getItem(\"token\"),\r\n                refreshToken: localStorage.getItem(\"refreshToken\"),\r\n                password: action.payload.password,\r\n                image_url: action.payload.picture,\r\n                isAuthenticated: true,\r\n                isLoading: false\r\n            }\r\n        case REGISTER_SUCCESS:\r\n            return {\r\n                ...initialState,\r\n                isLoading: false,\r\n                isAuthenticated: false\r\n            }\r\n        case AUTH_ERROR:\r\n        case LOGIN_FAIL:\r\n        case REGISTER_FAIL:\r\n        case UNAUTHENTICATE:\r\n            localStorage.removeItem(\"token\")\r\n            return {\r\n                name: \"\",\r\n                email: null,\r\n                password: null,\r\n                token: null,\r\n                refreshToken: null,\r\n                image_url: null,\r\n                isAuthenticated: false,\r\n                isLoading: false\r\n            }\r\n        case LOGOUT_SUCCESS:\r\n            localStorage.removeItem(\"refreshToken\")\r\n            localStorage.removeItem(\"token\")\r\n            return {\r\n                name: \"\",\r\n                email: null,\r\n                password: null,\r\n                token: null,\r\n                refreshToken: null,\r\n                image_url: null,\r\n                isAuthenticated: false,\r\n                isLoading: false\r\n            }\r\n        default:\r\n            return initialState\r\n    }\r\n}","import { GET_ERRORS, CLEAR_ERRORS } from \"../models/constants\";\r\nimport { Error } from \"../models/types\"\r\n\r\n\r\nexport function errorReducer(initialState: Error = {\r\n    message: {},\r\n    status: null,\r\n    id: null\r\n}, action: any): any {\r\n    switch(action.type) {\r\n        case GET_ERRORS:\r\n            return {\r\n                message: action.payload.message,\r\n                status: action.payload.status,\r\n                id: action.payload.id\r\n            }\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                message: {},\r\n                status: null,\r\n                id: null\r\n            }\r\n        default:\r\n            return initialState\r\n    }\r\n}","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport { rootReducer } from '../reducers';\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n<Provider store={store}>\r\n    <App />\r\n</Provider>\r\n, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/tradyheadorange.5c2ab93e.png\";","module.exports = __webpack_public_path__ + \"static/media/tradygradedarkblue.46716934.png\";","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}